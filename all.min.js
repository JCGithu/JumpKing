class Level{constructor(){this.levelImage=null,this.lines=[],this.levelNo=0,this.isBlizzardLevel=!1,this.isIceLevel=!1}show(){push(),image(this.levelImage,0,0),pop()}showChat(){push(),image(this.levelImage,width/2,0),pop()}}let levels=[],chatLevels=[],levelNum=43;function addChat(e){levels.push(e);let n=new Level;e.lines.forEach((e=>{n.lines.push(new Line(e.x1+width/2,e.y1,e.x2+width/2,e.y2))})),chatLevels.push(n)}async function setupLevels(){let e=new Level;e.lines.push(new Line(20,0,20,460)),e.lines.push(new Line(20,460,320,460)),e.lines.push(new Line(320,460,320,820)),e.lines.push(new Line(320,820,880,820)),e.lines.push(new Line(880,820,880,460)),e.lines.push(new Line(880,460,1180,460)),e.lines.push(new Line(1180,460,1180,0)),e.lines.push(new Line(460,100,740,100)),e.lines.push(new Line(460,100,460,220)),e.lines.push(new Line(460,220,740,220)),e.lines.push(new Line(740,220,740,100)),addChat(e),e=new Level,e.lines.push(new Line(20,0,20,200)),e.lines.push(new Line(20,200,200,200)),e.lines.push(new Line(200,200,200,420)),e.lines.push(new Line(200,420,20,420)),e.lines.push(new Line(20,420,20,900)),e.lines.push(new Line(1180,900,1180,580)),e.lines.push(new Line(1180,580,1020,580)),e.lines.push(new Line(1020,580,1020,500)),e.lines.push(new Line(1020,500,1180,500)),e.lines.push(new Line(1180,500,1180,0)),e.lines.push(new Line(740,740,980,740)),e.lines.push(new Line(980,740,980,820)),e.lines.push(new Line(980,820,740,820)),e.lines.push(new Line(740,820,740,740)),e.lines.push(new Line(640,500,640,580)),e.lines.push(new Line(640,580,820,580)),e.lines.push(new Line(820,580,820,500)),e.lines.push(new Line(820,500,640,500)),e.lines.push(new Line(300,260,300,420)),e.lines.push(new Line(300,420,480,420)),e.lines.push(new Line(480,420,480,260)),e.lines.push(new Line(480,260,300,260)),addChat(e),e=new Level,e.lines.push(new Line(20,0,20,240)),e.lines.push(new Line(20,240,160,240)),e.lines.push(new Line(160,240,160,280)),e.lines.push(new Line(160,280,20,280)),e.lines.push(new Line(20,280,20,900)),e.lines.push(new Line(340,0,340,40)),e.lines.push(new Line(340,40,520,40)),e.lines.push(new Line(520,40,520,0)),e.lines.push(new Line(400,420,400,300)),e.lines.push(new Line(400,300,540,300)),e.lines.push(new Line(540,300,540,420)),e.lines.push(new Line(540,420,400,420)),e.lines.push(new Line(520,760,520,800)),e.lines.push(new Line(520,800,640,800)),e.lines.push(new Line(640,800,640,760)),e.lines.push(new Line(640,760,520,760)),e.lines.push(new Line(800,760,800,800)),e.lines.push(new Line(800,800,940,800)),e.lines.push(new Line(940,800,940,760)),e.lines.push(new Line(940,760,800,760)),e.lines.push(new Line(1180,900,1180,680)),e.lines.push(new Line(1180,680,1060,680)),e.lines.push(new Line(1060,680,1060,640)),e.lines.push(new Line(1060,640,1180,640)),e.lines.push(new Line(1180,640,1180,0)),e.lines.push(new Line(480,560,480,640)),e.lines.push(new Line(480,640,840,640)),e.lines.push(new Line(840,640,840,520)),e.lines.push(new Line(840,520,720,520)),e.lines.push(new Line(720,520,720,560)),e.lines.push(new Line(720,560,480,560)),addChat(e),e=new Level,e.lines.push(new Line(20,0,20,540)),e.lines.push(new Line(20,540,160,540)),e.lines.push(new Line(160,540,160,580)),e.lines.push(new Line(160,580,20,580)),e.lines.push(new Line(20,580,20,900)),e.lines.push(new Line(340,900,340,800)),e.lines.push(new Line(340,800,520,800)),e.lines.push(new Line(520,800,520,900)),e.lines.push(new Line(1180,0,1180,320)),e.lines.push(new Line(1180,320,1080,320)),e.lines.push(new Line(1080,320,1080,360)),e.lines.push(new Line(1080,360,1180,360)),e.lines.push(new Line(1180,360,1180,900)),e.lines.push(new Line(340,0,340,420)),e.lines.push(new Line(340,420,440,420)),e.lines.push(new Line(440,420,440,220)),e.lines.push(new Line(440,220,380,220)),e.lines.push(new Line(380,220,380,0)),e.lines.push(new Line(340,540,340,580)),e.lines.push(new Line(340,580,520,580)),e.lines.push(new Line(520,580,520,540)),e.lines.push(new Line(520,540,340,540)),e.lines.push(new Line(740,400,740,580)),e.lines.push(new Line(740,580,860,580)),e.lines.push(new Line(860,580,860,220)),e.lines.push(new Line(860,220,1e3,220)),e.lines.push(new Line(1e3,220,1e3,180)),e.lines.push(new Line(1e3,180,820,180)),e.lines.push(new Line(820,180,820,400)),e.lines.push(new Line(820,400,740,400)),e.lines.push(new Line(820,0,820,40)),e.lines.push(new Line(820,40,860,40)),e.lines.push(new Line(860,40,860,0)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,640)),e.lines.push(new Line(20,640,100,640)),e.lines.push(new Line(100,640,100,600)),e.lines.push(new Line(100,600,20,600)),e.lines.push(new Line(20,600,20,0)),e.lines.push(new Line(380,900,380,780)),e.lines.push(new Line(380,780,280,780)),e.lines.push(new Line(280,780,280,820)),e.lines.push(new Line(280,820,340,820)),e.lines.push(new Line(340,820,340,900)),e.lines.push(new Line(820,900,820,780)),e.lines.push(new Line(820,780,920,780)),e.lines.push(new Line(920,780,920,820)),e.lines.push(new Line(920,820,860,820)),e.lines.push(new Line(860,820,860,900)),e.lines.push(new Line(1180,900,1180,460)),e.lines.push(new Line(1180,460,1100,460)),e.lines.push(new Line(1100,460,1100,400)),e.lines.push(new Line(1100,400,1180,400)),e.lines.push(new Line(1180,400,1180,0)),e.lines.push(new Line(920,640,820,640)),e.lines.push(new Line(820,640,820,600)),e.lines.push(new Line(820,600,920,600)),e.lines.push(new Line(920,600,920,640)),e.lines.push(new Line(100,220,100,260)),e.lines.push(new Line(100,260,180,260)),e.lines.push(new Line(180,260,180,220)),e.lines.push(new Line(180,220,100,220)),e.lines.push(new Line(800,220,800,260)),e.lines.push(new Line(800,260,720,260)),e.lines.push(new Line(720,260,720,220)),e.lines.push(new Line(720,220,800,220)),e.lines.push(new Line(560,180,560,220)),e.lines.push(new Line(560,220,640,220)),e.lines.push(new Line(640,220,640,180)),e.lines.push(new Line(640,180,560,180)),e.lines.push(new Line(400,140,400,180)),e.lines.push(new Line(400,180,480,180)),e.lines.push(new Line(480,180,480,140)),e.lines.push(new Line(480,140,400,140)),e.lines.push(new Line(380,0,380,40)),e.lines.push(new Line(380,40,820,40)),e.lines.push(new Line(820,40,820,0)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,500)),e.lines.push(new Line(20,500,140,500)),e.lines.push(new Line(140,500,140,460)),e.lines.push(new Line(140,460,20,460)),e.lines.push(new Line(20,460,20,40)),e.lines.push(new Line(20,40,340,40)),e.lines.push(new Line(340,40,340,140)),e.lines.push(new Line(340,140,480,140)),e.lines.push(new Line(480,140,480,0)),e.lines.push(new Line(480,280,480,320)),e.lines.push(new Line(480,320,200,320)),e.lines.push(new Line(200,320,200,220)),e.lines.push(new Line(200,220,140,220)),e.lines.push(new Line(140,220,140,180)),e.lines.push(new Line(140,180,240,180)),e.lines.push(new Line(240,180,240,280)),e.lines.push(new Line(240,280,480,280)),e.lines.push(new Line(320,600,320,640)),e.lines.push(new Line(320,640,440,640)),e.lines.push(new Line(440,640,440,600)),e.lines.push(new Line(440,600,320,600)),e.lines.push(new Line(820,900,820,820)),e.lines.push(new Line(820,820,380,820)),e.lines.push(new Line(380,820,380,900)),e.lines.push(new Line(1180,900,1180,640)),e.lines.push(new Line(1180,640,720,640)),e.lines.push(new Line(720,640,720,200)),e.lines.push(new Line(720,200,1180,200)),e.lines.push(new Line(1180,200,1180,0)),e.lines.push(new Line(1060,0,1060,100)),e.lines.push(new Line(1060,100,820,100)),e.lines.push(new Line(820,100,820,60)),e.lines.push(new Line(820,60,720,60)),e.lines.push(new Line(720,60,720,0)),addChat(e),e=new Level,e.lines.push(new Line(1180,900,1180,340)),e.lines.push(new Line(1180,340,960,340)),e.lines.push(new Line(960,340,960,400)),e.lines.push(new Line(960,400,720,400)),e.lines.push(new Line(720,400,720,280)),e.lines.push(new Line(960,0,960,40)),e.lines.push(new Line(960,40,720,280)),e.lines.push(new Line(740,0,740,40)),e.lines.push(new Line(740,40,580,200)),e.lines.push(new Line(580,200,580,400)),e.lines.push(new Line(580,400,480,400)),e.lines.push(new Line(480,400,480,480)),e.lines.push(new Line(480,480,380,480)),e.lines.push(new Line(380,480,380,260)),e.lines.push(new Line(380,260,260,260)),e.lines.push(new Line(260,260,260,180)),e.lines.push(new Line(260,180,320,120)),e.lines.push(new Line(320,120,380,120)),e.lines.push(new Line(380,120,380,0)),e.lines.push(new Line(220,0,220,40)),e.lines.push(new Line(220,40,20,40)),e.lines.push(new Line(20,40,20,420)),e.lines.push(new Line(20,420,80,420)),e.lines.push(new Line(80,420,260,600)),e.lines.push(new Line(260,600,260,680)),e.lines.push(new Line(260,680,480,900)),e.lines.push(new Line(720,900,720,520)),e.lines.push(new Line(720,520,1060,520)),e.lines.push(new Line(1060,520,1060,560)),e.lines.push(new Line(1060,560,920,560)),e.lines.push(new Line(920,560,920,860)),e.lines.push(new Line(920,860,1060,860)),e.lines.push(new Line(1060,860,1060,900)),e.lines.push(new Line(340,600,340,620)),e.lines.push(new Line(340,620,460,740)),e.lines.push(new Line(460,740,480,740)),e.lines.push(new Line(480,740,480,640)),e.lines.push(new Line(480,640,520,640)),e.lines.push(new Line(520,640,520,600)),e.lines.push(new Line(520,600,340,600)),addChat(e),e=new Level,e.lines.push(new Line(20,0,20,160)),e.lines.push(new Line(20,160,80,160)),e.lines.push(new Line(80,160,80,360)),e.lines.push(new Line(80,360,620,360)),e.lines.push(new Line(620,360,620,460)),e.lines.push(new Line(620,460,180,460)),e.lines.push(new Line(180,460,180,640)),e.lines.push(new Line(180,640,60,640)),e.lines.push(new Line(60,640,60,860)),e.lines.push(new Line(60,860,220,860)),e.lines.push(new Line(220,860,220,900)),e.lines.push(new Line(380,900,380,600)),e.lines.push(new Line(380,600,620,600)),e.lines.push(new Line(620,600,620,680)),e.lines.push(new Line(740,900,740,800)),e.lines.push(new Line(740,800,620,680)),e.lines.push(new Line(960,900,960,800)),e.lines.push(new Line(960,800,1080,680)),e.lines.push(new Line(1080,680,1080,560)),e.lines.push(new Line(1080,560,1180,560)),e.lines.push(new Line(1180,560,1180,220)),e.lines.push(new Line(1180,220,1080,220)),e.lines.push(new Line(1080,220,1080,0)),e.lines.push(new Line(620,60,620,220)),e.lines.push(new Line(620,60,560,0)),e.lines.push(new Line(620,220,220,220)),e.lines.push(new Line(220,220,220,0)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,480)),e.lines.push(new Line(20,480,80,480)),e.lines.push(new Line(80,480,80,420)),e.lines.push(new Line(80,420,20,420)),e.lines.push(new Line(20,420,20,40)),e.lines.push(new Line(20,40,260,40)),e.lines.push(new Line(260,40,260,0)),e.lines.push(new Line(380,0,380,40)),e.lines.push(new Line(380,40,520,40)),e.lines.push(new Line(520,40,520,340)),e.lines.push(new Line(520,340,440,340)),e.lines.push(new Line(440,340,440,400)),e.lines.push(new Line(440,400,640,400)),e.lines.push(new Line(640,400,640,240)),e.lines.push(new Line(640,240,560,240)),e.lines.push(new Line(560,240,560,0)),e.lines.push(new Line(220,900,220,800)),e.lines.push(new Line(220,800,160,800)),e.lines.push(new Line(160,800,160,740)),e.lines.push(new Line(160,740,220,740)),e.lines.push(new Line(220,740,220,220)),e.lines.push(new Line(220,220,260,220)),e.lines.push(new Line(260,220,260,520)),e.lines.push(new Line(260,520,340,520)),e.lines.push(new Line(340,520,340,680)),e.lines.push(new Line(340,680,560,900)),e.lines.push(new Line(1080,900,1180,800)),e.lines.push(new Line(1180,800,1180,40)),e.lines.push(new Line(1180,40,980,40)),e.lines.push(new Line(980,40,980,0)),e.lines.push(new Line(500,520,500,680)),e.lines.push(new Line(500,680,580,680)),e.lines.push(new Line(580,680,580,520)),e.lines.push(new Line(580,520,500,520)),e.lines.push(new Line(740,520,740,680)),e.lines.push(new Line(740,680,820,680)),e.lines.push(new Line(820,680,820,520)),e.lines.push(new Line(820,520,740,520)),e.lines.push(new Line(980,520,980,680)),e.lines.push(new Line(980,680,1060,680)),e.lines.push(new Line(1060,680,1060,520)),e.lines.push(new Line(1060,520,980,520)),e.lines.push(new Line(980,240,980,320)),e.lines.push(new Line(980,320,1060,320)),e.lines.push(new Line(1060,320,1060,240)),e.lines.push(new Line(1060,240,980,240)),addChat(e),e=new Level,e.lines.push(new Line(20,0,20,460)),e.lines.push(new Line(20,460,140,460)),e.lines.push(new Line(140,460,140,700)),e.lines.push(new Line(140,700,260,820)),e.lines.push(new Line(260,820,260,900)),e.lines.push(new Line(380,900,380,580)),e.lines.push(new Line(380,580,560,580)),e.lines.push(new Line(560,580,560,900)),e.lines.push(new Line(980,900,980,820)),e.lines.push(new Line(980,820,1180,820)),e.lines.push(new Line(1180,820,1180,340)),e.lines.push(new Line(1180,340,380,340)),e.lines.push(new Line(380,340,380,260)),e.lines.push(new Line(380,260,500,260)),e.lines.push(new Line(500,260,500,300)),e.lines.push(new Line(500,300,620,300)),e.lines.push(new Line(620,300,620,220)),e.lines.push(new Line(620,220,740,220)),e.lines.push(new Line(740,220,740,300)),e.lines.push(new Line(740,300,860,300)),e.lines.push(new Line(860,300,860,240)),e.lines.push(new Line(860,240,980,240)),e.lines.push(new Line(980,240,980,300)),e.lines.push(new Line(980,300,1100,300)),e.lines.push(new Line(1100,300,1100,220)),e.lines.push(new Line(1100,220,1180,220)),e.lines.push(new Line(1180,220,1180,0)),e.lines.push(new Line(980,0,980,120)),e.lines.push(new Line(980,120,860,120)),e.lines.push(new Line(860,120,860,0)),e.lines.push(new Line(740,0,740,120)),e.lines.push(new Line(740,120,620,120)),e.lines.push(new Line(620,120,620,0)),e.lines.push(new Line(500,0,500,120)),e.lines.push(new Line(500,120,380,120)),e.lines.push(new Line(380,120,380,0)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,560)),e.lines.push(new Line(20,560,100,560)),e.lines.push(new Line(100,560,100,520)),e.lines.push(new Line(100,520,20,520)),e.lines.push(new Line(20,520,20,360)),e.lines.push(new Line(20,360,140,360)),e.lines.push(new Line(140,360,80,300)),e.lines.push(new Line(80,300,20,300)),e.lines.push(new Line(20,300,20,0)),e.lines.push(new Line(380,900,380,600)),e.lines.push(new Line(380,600,500,600)),e.lines.push(new Line(500,600,500,900)),e.lines.push(new Line(620,900,620,800)),e.lines.push(new Line(620,800,740,800)),e.lines.push(new Line(740,800,740,900)),e.lines.push(new Line(860,900,860,860)),e.lines.push(new Line(860,860,980,860)),e.lines.push(new Line(980,860,980,900)),e.lines.push(new Line(1180,900,1180,400)),e.lines.push(new Line(1180,400,1100,400)),e.lines.push(new Line(1100,400,1100,320)),e.lines.push(new Line(1100,320,1180,320)),e.lines.push(new Line(1180,320,1180,160)),e.lines.push(new Line(1180,160,1100,160)),e.lines.push(new Line(1100,160,1100,120)),e.lines.push(new Line(1100,120,1180,120)),e.lines.push(new Line(1180,120,1180,0)),e.lines.push(new Line(980,0,980,160)),e.lines.push(new Line(980,160,860,160)),e.lines.push(new Line(860,160,860,0)),e.lines.push(new Line(740,0,740,20)),e.lines.push(new Line(740,20,620,20)),e.lines.push(new Line(620,20,620,0)),e.lines.push(new Line(500,0,500,100)),e.lines.push(new Line(500,100,440,100)),e.lines.push(new Line(440,100,440,200)),e.lines.push(new Line(440,200,500,200)),e.lines.push(new Line(500,200,500,260)),e.lines.push(new Line(500,260,380,260)),e.lines.push(new Line(380,260,380,0)),e.lines.push(new Line(380,420,380,500)),e.lines.push(new Line(380,500,500,500)),e.lines.push(new Line(500,500,500,420)),e.lines.push(new Line(500,420,380,420)),e.lines.push(new Line(620,600,620,680)),e.lines.push(new Line(620,680,740,680)),e.lines.push(new Line(740,680,740,600)),e.lines.push(new Line(740,600,620,600)),e.lines.push(new Line(860,560,860,640)),e.lines.push(new Line(860,640,980,640)),e.lines.push(new Line(980,640,980,560)),e.lines.push(new Line(980,560,860,560)),e.lines.push(new Line(860,320,860,400)),e.lines.push(new Line(860,400,980,400)),e.lines.push(new Line(980,400,980,320)),e.lines.push(new Line(980,320,860,320)),e.lines.push(new Line(620,120,620,160)),e.lines.push(new Line(620,160,680,160)),e.lines.push(new Line(680,160,680,280)),e.lines.push(new Line(680,280,620,280)),e.lines.push(new Line(620,280,620,440)),e.lines.push(new Line(620,440,740,440)),e.lines.push(new Line(740,440,740,120)),e.lines.push(new Line(740,120,620,120)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,580)),e.lines.push(new Line(20,580,60,580)),e.lines.push(new Line(60,580,60,540)),e.lines.push(new Line(60,540,20,540)),e.lines.push(new Line(20,540,20,0)),e.lines.push(new Line(300,900,300,860)),e.lines.push(new Line(300,860,380,860)),e.lines.push(new Line(380,860,380,460)),e.lines.push(new Line(380,460,500,460)),e.lines.push(new Line(500,460,500,900)),e.lines.push(new Line(620,900,620,780)),e.lines.push(new Line(620,780,740,780)),e.lines.push(new Line(740,780,740,900)),e.lines.push(new Line(860,900,860,860)),e.lines.push(new Line(860,860,980,860)),e.lines.push(new Line(980,860,980,900)),e.lines.push(new Line(1180,900,1180,660)),e.lines.push(new Line(1180,660,1060,660)),e.lines.push(new Line(1060,660,1060,580)),e.lines.push(new Line(1060,580,1180,580)),e.lines.push(new Line(1180,580,1180,40)),e.lines.push(new Line(1180,40,1040,40)),e.lines.push(new Line(1040,40,1040,0)),e.lines.push(new Line(380,340,380,200)),e.lines.push(new Line(380,200,560,20)),e.lines.push(new Line(560,20,560,0)),e.lines.push(new Line(380,340,500,340)),e.lines.push(new Line(500,340,500,260)),e.lines.push(new Line(500,260,740,20)),e.lines.push(new Line(740,20,740,0)),e.lines.push(new Line(740,320,740,400)),e.lines.push(new Line(740,400,820,400)),e.lines.push(new Line(820,400,820,320)),e.lines.push(new Line(820,320,740,320)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,0)),e.lines.push(new Line(200,500,200,600)),e.lines.push(new Line(200,600,300,600)),e.lines.push(new Line(300,600,300,500)),e.lines.push(new Line(300,500,200,500)),e.lines.push(new Line(560,900,560,720)),e.lines.push(new Line(560,720,520,720)),e.lines.push(new Line(520,720,520,680)),e.lines.push(new Line(520,680,740,680)),e.lines.push(new Line(740,680,740,900)),e.lines.push(new Line(1040,900,1040,860)),e.lines.push(new Line(1040,860,1180,860)),e.lines.push(new Line(1180,860,1180,160)),e.lines.push(new Line(1180,160,1100,160)),e.lines.push(new Line(1100,160,1100,80)),e.lines.push(new Line(1100,80,1180,80)),e.lines.push(new Line(1180,80,1180,0)),e.lines.push(new Line(560,0,560,40)),e.lines.push(new Line(560,40,640,40)),e.lines.push(new Line(640,40,640,0)),e.lines.push(new Line(560,240,560,480)),e.lines.push(new Line(560,480,600,480)),e.lines.push(new Line(600,480,600,580)),e.lines.push(new Line(600,580,640,580)),e.lines.push(new Line(640,580,640,260)),e.lines.push(new Line(640,260,640,240)),e.lines.push(new Line(640,240,560,240)),e.lines.push(new Line(860,280,860,400)),e.lines.push(new Line(860,400,940,400)),e.lines.push(new Line(940,400,940,280)),e.lines.push(new Line(940,280,860,280)),addChat(e),e=new Level,e.lines.push(new Line(560,900,560,700)),e.lines.push(new Line(560,700,480,700)),e.lines.push(new Line(480,700,480,500)),e.lines.push(new Line(480,500,540,500)),e.lines.push(new Line(540,500,540,660)),e.lines.push(new Line(540,660,700,660)),e.lines.push(new Line(700,660,700,760)),e.lines.push(new Line(640,900,640,820)),e.lines.push(new Line(640,820,700,760)),e.lines.push(new Line(1180,900,1180,0)),e.lines.push(new Line(20,900,20,80)),e.lines.push(new Line(20,80,400,80)),e.lines.push(new Line(400,80,400,0)),e.lines.push(new Line(540,240,540,280)),e.lines.push(new Line(540,280,700,280)),e.lines.push(new Line(700,280,700,240)),e.lines.push(new Line(700,240,540,240)),e.lines.push(new Line(900,340,900,380)),e.lines.push(new Line(900,380,1060,380)),e.lines.push(new Line(1060,380,1060,340)),e.lines.push(new Line(1060,340,900,340)),addChat(e),e=new Level,e.lines.push(new Line(400,900,400,820)),e.lines.push(new Line(400,820,20,820)),e.lines.push(new Line(20,820,20,580)),e.lines.push(new Line(20,580,400,580)),e.lines.push(new Line(400,580,400,560)),e.lines.push(new Line(400,560,220,380)),e.lines.push(new Line(220,380,0,380)),e.lines.push(new Line(0,280,220,280)),e.lines.push(new Line(220,280,140,200)),e.lines.push(new Line(140,200,20,200)),e.lines.push(new Line(20,200,20,60)),e.lines.push(new Line(20,60,80,0)),e.lines.push(new Line(1180,900,1180,600)),e.lines.push(new Line(1180,600,840,600)),e.lines.push(new Line(840,600,840,560)),e.lines.push(new Line(840,560,960,560)),e.lines.push(new Line(960,560,960,480)),e.lines.push(new Line(960,480,1020,420)),e.lines.push(new Line(1020,420,1180,420)),e.lines.push(new Line(1180,420,1180,220)),e.lines.push(new Line(1180,220,1020,220)),e.lines.push(new Line(1020,220,1020,200)),e.lines.push(new Line(1020,200,1180,40)),e.lines.push(new Line(1180,40,1180,0)),e.lines.push(new Line(580,160,640,220)),e.lines.push(new Line(640,220,640,340)),e.lines.push(new Line(640,340,420,340)),e.lines.push(new Line(420,340,420,220)),e.lines.push(new Line(420,220,480,160)),e.lines.push(new Line(480,160,480,200)),e.lines.push(new Line(480,200,580,200)),e.lines.push(new Line(580,200,580,160)),e.lines.push(new Line(20,280,20,380)),addChat(e),e=new Level,e.lines.push(new Line(80,900,160,820)),e.lines.push(new Line(160,820,160,780)),e.lines.push(new Line(160,780,20,780)),e.lines.push(new Line(20,780,20,440)),e.lines.push(new Line(20,440,200,440)),e.lines.push(new Line(200,440,200,260)),e.lines.push(new Line(200,260,140,200)),e.lines.push(new Line(140,200,20,200)),e.lines.push(new Line(20,200,20,80)),e.lines.push(new Line(20,80,140,80)),e.lines.push(new Line(140,80,60,0)),e.lines.push(new Line(1180,900,1180,0)),e.lines.push(new Line(1e3,0,1e3,40)),e.lines.push(new Line(1e3,40,1080,40)),e.lines.push(new Line(1080,40,1080,0)),e.lines.push(new Line(700,820,700,680)),e.lines.push(new Line(700,680,560,680)),e.lines.push(new Line(560,680,560,720)),e.lines.push(new Line(560,720,640,720)),e.lines.push(new Line(640,720,640,820)),e.lines.push(new Line(640,820,700,820)),e.lines.push(new Line(820,680,820,820)),e.lines.push(new Line(820,820,880,820)),e.lines.push(new Line(880,820,880,680)),e.lines.push(new Line(880,680,820,680)),e.lines.push(new Line(1e3,720,1e3,820)),e.lines.push(new Line(1e3,820,1060,820)),e.lines.push(new Line(1060,820,1060,720)),e.lines.push(new Line(1060,720,1e3,720)),e.lines.push(new Line(980,440,980,520)),e.lines.push(new Line(980,520,1060,520)),e.lines.push(new Line(1060,520,1060,440)),e.lines.push(new Line(1060,440,980,440)),e.lines.push(new Line(640,420,640,580)),e.lines.push(new Line(640,580,700,580)),e.lines.push(new Line(700,580,700,280)),e.lines.push(new Line(700,280,780,280)),e.lines.push(new Line(780,280,780,240)),e.lines.push(new Line(780,240,580,240)),e.lines.push(new Line(580,240,580,280)),e.lines.push(new Line(580,280,640,280)),e.lines.push(new Line(640,280,640,380)),e.lines.push(new Line(640,380,460,380)),e.lines.push(new Line(460,380,460,420)),e.lines.push(new Line(460,420,640,420)),addChat(e),e=new Level,e.lines.push(new Line(1e3,900,1e3,780)),e.lines.push(new Line(1e3,780,1080,780)),e.lines.push(new Line(1080,780,1080,900)),e.lines.push(new Line(1180,900,1180,460)),e.lines.push(new Line(1180,460,1100,460)),e.lines.push(new Line(1100,460,1100,420)),e.lines.push(new Line(1100,420,1180,420)),e.lines.push(new Line(1180,420,1180,0)),e.lines.push(new Line(60,900,20,860)),e.lines.push(new Line(20,860,20,680)),e.lines.push(new Line(20,680,280,680)),e.lines.push(new Line(280,680,280,640)),e.lines.push(new Line(280,640,20,640)),e.lines.push(new Line(20,640,20,0)),e.lines.push(new Line(240,0,240,120)),e.lines.push(new Line(240,120,180,120)),e.lines.push(new Line(180,120,180,160)),e.lines.push(new Line(180,160,120,160)),e.lines.push(new Line(120,160,120,200)),e.lines.push(new Line(120,200,240,200)),e.lines.push(new Line(240,200,240,420)),e.lines.push(new Line(240,420,180,420)),e.lines.push(new Line(180,420,180,460)),e.lines.push(new Line(180,460,120,460)),e.lines.push(new Line(120,460,120,500)),e.lines.push(new Line(120,500,280,500)),e.lines.push(new Line(280,500,280,0)),e.lines.push(new Line(620,280,620,500)),e.lines.push(new Line(620,500,580,500)),e.lines.push(new Line(580,500,580,320)),e.lines.push(new Line(580,320,620,280)),e.lines.push(new Line(700,280,700,640)),e.lines.push(new Line(700,640,580,640)),e.lines.push(new Line(580,640,580,680)),e.lines.push(new Line(580,680,800,680)),e.lines.push(new Line(800,680,800,560)),e.lines.push(new Line(800,560,740,560)),e.lines.push(new Line(740,560,740,320)),e.lines.push(new Line(740,320,700,280)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,500)),e.lines.push(new Line(20,500,0,500)),e.lines.push(new Line(0,500,0,380)),e.lines.push(new Line(0,380,140,380)),e.lines.push(new Line(140,380,140,340)),e.lines.push(new Line(140,340,80,340)),e.lines.push(new Line(80,340,80,300)),e.lines.push(new Line(80,300,20,300)),e.lines.push(new Line(20,300,20,20)),e.lines.push(new Line(20,20,360,20)),e.lines.push(new Line(360,20,360,240)),e.lines.push(new Line(360,240,400,240)),e.lines.push(new Line(400,240,400,0)),e.lines.push(new Line(400,340,280,340)),e.lines.push(new Line(280,340,280,600)),e.lines.push(new Line(280,600,180,600)),e.lines.push(new Line(180,600,180,740)),e.lines.push(new Line(180,740,120,740)),e.lines.push(new Line(120,740,120,780)),e.lines.push(new Line(120,780,240,780)),e.lines.push(new Line(240,780,240,900)),e.lines.push(new Line(280,900,280,800)),e.lines.push(new Line(280,800,360,800)),e.lines.push(new Line(360,800,360,760)),e.lines.push(new Line(360,760,280,760)),e.lines.push(new Line(280,760,280,640)),e.lines.push(new Line(280,640,360,640)),e.lines.push(new Line(360,640,400,600)),e.lines.push(new Line(400,600,400,340)),e.lines.push(new Line(920,0,820,100)),e.lines.push(new Line(820,100,820,120)),e.lines.push(new Line(820,120,860,120)),e.lines.push(new Line(860,120,960,20)),e.lines.push(new Line(960,20,1040,20)),e.lines.push(new Line(1040,20,1040,0)),e.lines.push(new Line(1020,200,820,200)),e.lines.push(new Line(820,200,680,340)),e.lines.push(new Line(680,340,680,360)),e.lines.push(new Line(680,360,720,360)),e.lines.push(new Line(720,360,720,460)),e.lines.push(new Line(720,460,680,500)),e.lines.push(new Line(680,500,680,520)),e.lines.push(new Line(680,520,720,520)),e.lines.push(new Line(720,520,720,620)),e.lines.push(new Line(720,620,760,620)),e.lines.push(new Line(760,620,760,560)),e.lines.push(new Line(760,560,900,560)),e.lines.push(new Line(900,560,900,520)),e.lines.push(new Line(900,520,760,520)),e.lines.push(new Line(760,520,760,320)),e.lines.push(new Line(760,320,840,240)),e.lines.push(new Line(840,240,1020,240)),e.lines.push(new Line(1020,240,1020,200)),e.lines.push(new Line(1180,900,1180,860)),e.lines.push(new Line(1180,860,1120,860)),e.lines.push(new Line(1120,860,1120,820)),e.lines.push(new Line(1120,820,1180,820)),e.lines.push(new Line(1180,820,1180,0)),e.lines.push(new Line(1120,360,1120,440)),e.lines.push(new Line(1120,440,1040,440)),e.lines.push(new Line(1040,440,1040,360)),e.lines.push(new Line(1040,360,1120,360)),e.lines.push(new Line(940,620,1020,620)),e.lines.push(new Line(1020,620,1020,660)),e.lines.push(new Line(1020,660,1060,660)),e.lines.push(new Line(1060,660,1060,700)),e.lines.push(new Line(1060,700,980,700)),e.lines.push(new Line(980,700,980,660)),e.lines.push(new Line(980,660,940,660)),e.lines.push(new Line(940,660,940,620)),e.lines.push(new Line(620,700,620,740)),e.lines.push(new Line(620,740,720,740)),e.lines.push(new Line(720,740,720,860)),e.lines.push(new Line(720,860,1e3,860)),e.lines.push(new Line(1e3,860,1e3,820)),e.lines.push(new Line(1e3,820,940,820)),e.lines.push(new Line(940,820,940,780)),e.lines.push(new Line(940,780,880,780)),e.lines.push(new Line(880,780,880,740)),e.lines.push(new Line(880,740,820,740)),e.lines.push(new Line(820,740,820,700)),e.lines.push(new Line(820,700,620,700)),addChat(e),e=new Level,e.lines.push(new Line(920,900,940,880)),e.lines.push(new Line(940,880,1e3,880)),e.lines.push(new Line(1e3,880,1e3,820)),e.lines.push(new Line(1e3,820,940,820)),e.lines.push(new Line(940,820,980,780)),e.lines.push(new Line(980,780,1040,780)),e.lines.push(new Line(1040,780,1040,900)),e.lines.push(new Line(1180,900,1180,480)),e.lines.push(new Line(1180,480,1080,480)),e.lines.push(new Line(1080,480,1080,420)),e.lines.push(new Line(1080,420,1180,420)),e.lines.push(new Line(1180,420,1180,0)),e.lines.push(new Line(940,0,940,40)),e.lines.push(new Line(940,40,820,40)),e.lines.push(new Line(820,40,820,0)),e.lines.push(new Line(660,0,660,40)),e.lines.push(new Line(660,40,540,40)),e.lines.push(new Line(540,40,540,0)),e.lines.push(new Line(380,0,380,40)),e.lines.push(new Line(380,40,260,40)),e.lines.push(new Line(260,40,260,0)),e.lines.push(new Line(100,0,100,40)),e.lines.push(new Line(100,40,20,40)),e.lines.push(new Line(20,40,20,640)),e.lines.push(new Line(20,640,220,640)),e.lines.push(new Line(220,640,300,720)),e.lines.push(new Line(300,720,280,720)),e.lines.push(new Line(280,720,280,780)),e.lines.push(new Line(280,780,400,900)),e.lines.push(new Line(600,560,600,620)),e.lines.push(new Line(600,620,780,620)),e.lines.push(new Line(780,620,780,560)),e.lines.push(new Line(780,560,600,560)),e.lines.push(new Line(140,400,140,460)),e.lines.push(new Line(140,460,300,460)),e.lines.push(new Line(300,460,240,400)),e.lines.push(new Line(240,400,140,400)),e.lines.push(new Line(320,140,320,200)),e.lines.push(new Line(320,200,440,200)),e.lines.push(new Line(440,200,440,140)),e.lines.push(new Line(440,140,320,140)),addChat(e),e=new Level,e.lines.push(new Line(100,900,100,520)),e.lines.push(new Line(100,520,220,520)),e.lines.push(new Line(220,520,220,460)),e.lines.push(new Line(220,460,20,460)),e.lines.push(new Line(20,460,20,0)),e.lines.push(new Line(120,260,120,340)),e.lines.push(new Line(120,340,280,340)),e.lines.push(new Line(280,340,200,260)),e.lines.push(new Line(200,260,120,260)),e.lines.push(new Line(260,900,260,720)),e.lines.push(new Line(260,720,300,680)),e.lines.push(new Line(300,680,380,680)),e.lines.push(new Line(380,680,380,900)),e.lines.push(new Line(540,900,540,680)),e.lines.push(new Line(540,680,660,680)),e.lines.push(new Line(660,680,660,900)),e.lines.push(new Line(820,900,820,680)),e.lines.push(new Line(820,680,840,680)),e.lines.push(new Line(840,680,940,780)),e.lines.push(new Line(940,780,940,900)),e.lines.push(new Line(1180,900,1180,780)),e.lines.push(new Line(1180,780,1100,780)),e.lines.push(new Line(1100,780,1100,680)),e.lines.push(new Line(1100,680,1180,680)),e.lines.push(new Line(1180,680,1180,520)),e.lines.push(new Line(1180,520,980,520)),e.lines.push(new Line(980,520,980,460)),e.lines.push(new Line(980,460,1180,460)),e.lines.push(new Line(1180,460,1180,0)),e.lines.push(new Line(1020,220,1060,220)),e.lines.push(new Line(1060,220,1060,340)),e.lines.push(new Line(1060,340,900,340)),e.lines.push(new Line(900,340,1020,220)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,740)),e.lines.push(new Line(20,740,40,720)),e.lines.push(new Line(40,720,40,320)),e.lines.push(new Line(40,320,260,100)),e.lines.push(new Line(260,100,420,100)),e.lines.push(new Line(420,100,420,0)),e.lines.push(new Line(720,0,720,40)),e.lines.push(new Line(720,40,820,40)),e.lines.push(new Line(820,40,820,0)),e.lines.push(new Line(1140,0,1140,260)),e.lines.push(new Line(1140,260,1080,260)),e.lines.push(new Line(1080,260,1080,420)),e.lines.push(new Line(1080,420,1160,420)),e.lines.push(new Line(1160,420,1160,800));e.lines.push(new Line(1160,800,1180,820)),e.lines.push(new Line(1180,820,1180,900)),e.lines.push(new Line(700,840,540,840)),e.lines.push(new Line(540,840,540,720)),e.lines.push(new Line(540,720,600,720)),e.lines.push(new Line(600,720,600,780)),e.lines.push(new Line(600,780,700,780)),e.lines.push(new Line(700,780,700,840)),e.lines.push(new Line(320,720,200,720)),e.lines.push(new Line(200,720,200,580)),e.lines.push(new Line(200,580,360,580)),e.lines.push(new Line(360,580,360,620)),e.lines.push(new Line(360,620,320,620)),e.lines.push(new Line(320,620,320,720)),e.lines.push(new Line(720,460,720,500)),e.lines.push(new Line(720,500,760,500)),e.lines.push(new Line(760,500,760,540)),e.lines.push(new Line(760,540,820,540)),e.lines.push(new Line(820,540,820,460)),e.lines.push(new Line(820,460,720,460)),addChat(e),e=new Level,e.lines.push(new Line(420,900,420,840)),e.lines.push(new Line(420,840,340,840)),e.lines.push(new Line(340,840,340,720)),e.lines.push(new Line(340,720,420,720)),e.lines.push(new Line(420,720,420,700)),e.lines.push(new Line(420,700,460,700)),e.lines.push(new Line(460,700,340,580)),e.lines.push(new Line(340,580,340,480)),e.lines.push(new Line(340,480,320,480)),e.lines.push(new Line(320,480,320,580)),e.lines.push(new Line(320,580,260,640)),e.lines.push(new Line(260,640,180,640)),e.lines.push(new Line(180,640,120,580)),e.lines.push(new Line(120,580,20,580)),e.lines.push(new Line(20,580,20,280)),e.lines.push(new Line(20,280,160,280)),e.lines.push(new Line(160,280,160,0)),e.lines.push(new Line(1140,900,1140,700)),e.lines.push(new Line(1140,700,680,700)),e.lines.push(new Line(680,700,680,600)),e.lines.push(new Line(680,600,860,600)),e.lines.push(new Line(860,600,860,660)),e.lines.push(new Line(860,660,1060,660)),e.lines.push(new Line(1060,660,1060,560)),e.lines.push(new Line(1060,560,1120,560)),e.lines.push(new Line(1120,560,1120,0)),e.lines.push(new Line(720,900,720,840)),e.lines.push(new Line(720,840,640,840)),e.lines.push(new Line(640,840,640,800)),e.lines.push(new Line(640,800,820,800)),e.lines.push(new Line(820,800,820,900)),e.lines.push(new Line(640,480,760,360)),e.lines.push(new Line(760,360,760,260)),e.lines.push(new Line(760,260,780,260)),e.lines.push(new Line(780,260,780,360)),e.lines.push(new Line(780,360,900,480)),e.lines.push(new Line(900,480,640,480)),addChat(e),e=new Level,e.lines.push(new Line(160,900,160,560)),e.lines.push(new Line(160,560,80,560)),e.lines.push(new Line(80,540,80,260)),e.lines.push(new Line(80,260,20,260)),e.lines.push(new Line(20,240,20,0)),e.lines.push(new Line(1120,900,1120,160)),e.lines.push(new Line(1120,160,1180,160)),e.lines.push(new Line(1180,160,1180,0)),e.lines.push(new Line(320,800,320,820)),e.lines.push(new Line(320,820,420,820)),e.lines.push(new Line(420,820,420,800)),e.lines.push(new Line(420,800,320,800)),e.lines.push(new Line(360,500,360,520)),e.lines.push(new Line(360,520,460,520)),e.lines.push(new Line(460,520,460,500)),e.lines.push(new Line(460,500,360,500)),e.lines.push(new Line(800,420,800,440)),e.lines.push(new Line(800,440,900,440)),e.lines.push(new Line(900,440,900,420)),e.lines.push(new Line(900,420,800,420)),e.lines.push(new Line(80,560,80,540)),e.lines.push(new Line(20,260,20,240)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,0)),e.lines.push(new Line(1180,900,1180,0)),e.lines.push(new Line(1060,0,1060,40)),e.lines.push(new Line(1060,40,880,40)),e.lines.push(new Line(880,40,880,0)),e.lines.push(new Line(720,200,720,220)),e.lines.push(new Line(720,220,620,220)),e.lines.push(new Line(620,220,620,200)),e.lines.push(new Line(620,200,720,200)),e.lines.push(new Line(880,360,880,380)),e.lines.push(new Line(880,380,980,380)),e.lines.push(new Line(980,380,980,360)),e.lines.push(new Line(980,360,880,360)),e.lines.push(new Line(700,520,700,540)),e.lines.push(new Line(700,540,600,540)),e.lines.push(new Line(600,540,600,520)),e.lines.push(new Line(600,520,700,520)),e.lines.push(new Line(600,780,600,800)),e.lines.push(new Line(600,800,700,800)),e.lines.push(new Line(700,800,700,780)),e.lines.push(new Line(700,780,600,780)),e.lines.push(new Line(240,520,240,540)),e.lines.push(new Line(240,540,340,540)),e.lines.push(new Line(340,540,340,520)),e.lines.push(new Line(340,520,240,520)),addChat(e),e=new Level,e.lines.push(new Line(1180,900,1180,0)),e.lines.push(new Line(860,0,860,40)),e.lines.push(new Line(860,40,600,40)),e.lines.push(new Line(600,40,600,0)),e.lines.push(new Line(20,0,20,900)),e.lines.push(new Line(180,760,180,780)),e.lines.push(new Line(180,780,280,780)),e.lines.push(new Line(280,780,280,760)),e.lines.push(new Line(280,760,180,760)),e.lines.push(new Line(880,900,880,860)),e.lines.push(new Line(880,860,1060,860)),e.lines.push(new Line(1060,860,1060,900)),e.lines.push(new Line(1100,740,980,620)),e.lines.push(new Line(980,620,980,580)),e.lines.push(new Line(980,580,960,580)),e.lines.push(new Line(960,580,960,620)),e.lines.push(new Line(960,620,840,740)),e.lines.push(new Line(840,740,1100,740)),e.lines.push(new Line(520,560,520,620)),e.lines.push(new Line(520,620,700,620)),e.lines.push(new Line(700,620,700,560)),e.lines.push(new Line(700,560,520,560)),e.lines.push(new Line(480,440,600,320)),e.lines.push(new Line(600,320,600,220)),e.lines.push(new Line(600,220,620,220)),e.lines.push(new Line(620,220,620,320)),e.lines.push(new Line(620,320,740,440)),e.lines.push(new Line(740,440,480,440)),e.lines.push(new Line(260,540,160,540)),e.lines.push(new Line(160,540,160,480)),e.lines.push(new Line(160,480,260,480)),e.lines.push(new Line(260,480,260,540)),e.lines.push(new Line(120,360,240,240)),e.lines.push(new Line(240,240,240,140)),e.lines.push(new Line(240,140,260,140)),e.lines.push(new Line(260,140,260,240)),e.lines.push(new Line(260,240,380,360)),e.lines.push(new Line(380,360,120,360)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,780)),e.lines.push(new Line(20,780,140,660)),e.lines.push(new Line(140,660,140,540)),e.lines.push(new Line(140,540,80,540)),e.lines.push(new Line(80,540,80,300)),e.lines.push(new Line(80,300,20,300)),e.lines.push(new Line(20,300,20,0)),e.lines.push(new Line(380,0,380,360)),e.lines.push(new Line(380,360,620,360)),e.lines.push(new Line(620,360,620,240)),e.lines.push(new Line(620,240,480,240)),e.lines.push(new Line(480,240,480,0)),e.lines.push(new Line(580,0,580,40)),e.lines.push(new Line(580,40,960,40)),e.lines.push(new Line(960,40,960,0)),e.lines.push(new Line(380,480,380,600)),e.lines.push(new Line(380,600,720,600)),e.lines.push(new Line(720,600,720,480)),e.lines.push(new Line(720,480,380,480)),e.lines.push(new Line(520,780,520,820)),e.lines.push(new Line(520,820,600,900)),e.lines.push(new Line(860,900,860,740)),e.lines.push(new Line(860,740,720,740)),e.lines.push(new Line(720,740,720,780)),e.lines.push(new Line(720,780,520,780)),e.lines.push(new Line(1180,900,1180,600)),e.lines.push(new Line(1180,600,1120,540)),e.lines.push(new Line(1120,540,1120,480)),e.lines.push(new Line(1120,480,1200,480)),e.lines.push(new Line(1200,480,1200,380)),e.lines.push(new Line(1200,380,1100,380)),e.lines.push(new Line(1100,380,1100,240)),e.lines.push(new Line(1100,240,1180,240)),e.lines.push(new Line(1180,240,1180,0)),addChat(e),e=new Level,e.lines.push(new Line(380,900,380,760)),e.lines.push(new Line(380,760,480,760)),e.lines.push(new Line(480,760,480,900)),e.lines.push(new Line(580,900,580,780)),e.lines.push(new Line(580,780,960,780)),e.lines.push(new Line(960,780,960,900)),e.lines.push(new Line(1180,900,1180,180)),e.lines.push(new Line(1180,180,1120,180)),e.lines.push(new Line(1120,180,1120,0)),e.lines.push(new Line(980,0,980,180)),e.lines.push(new Line(980,180,660,180)),e.lines.push(new Line(660,180,660,0)),e.lines.push(new Line(540,240,280,240)),e.lines.push(new Line(280,240,280,100)),e.lines.push(new Line(280,100,540,100)),e.lines.push(new Line(540,100,540,240)),e.lines.push(new Line(20,900,20,0)),e.lines.push(new Line(140,600,280,600)),e.lines.push(new Line(280,600,280,380)),e.lines.push(new Line(280,380,140,380)),e.lines.push(new Line(140,380,140,600)),e.lines.push(new Line(420,600,580,600)),e.lines.push(new Line(580,600,580,420)),e.lines.push(new Line(580,420,420,420)),e.lines.push(new Line(420,420,420,600)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,0)),e.lines.push(new Line(180,540,380,540)),e.lines.push(new Line(380,540,380,300)),e.lines.push(new Line(380,300,280,300)),e.lines.push(new Line(280,300,280,220)),e.lines.push(new Line(280,220,180,220)),e.lines.push(new Line(180,220,180,540)),e.lines.push(new Line(540,400,540,540)),e.lines.push(new Line(540,540,900,540)),e.lines.push(new Line(900,540,900,440)),e.lines.push(new Line(900,440,700,440)),e.lines.push(new Line(700,440,700,400)),e.lines.push(new Line(700,400,540,400)),e.lines.push(new Line(660,900,660,700)),e.lines.push(new Line(660,700,980,700)),e.lines.push(new Line(980,700,980,900)),e.lines.push(new Line(1120,900,1120,780)),e.lines.push(new Line(1120,780,1180,780)),e.lines.push(new Line(1180,780,1180,0)),e.lines.push(new Line(420,100,420,0)),e.lines.push(new Line(420,100,620,100)),e.lines.push(new Line(620,100,620,220)),e.lines.push(new Line(620,220,900,220)),e.lines.push(new Line(900,220,900,0)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,780)),e.lines.push(new Line(20,780,80,720)),e.lines.push(new Line(80,720,80,520)),e.lines.push(new Line(80,520,20,520)),e.lines.push(new Line(20,520,20,0)),e.lines.push(new Line(380,620,440,620)),e.lines.push(new Line(440,620,440,440)),e.lines.push(new Line(440,440,380,440)),e.lines.push(new Line(380,440,380,620)),e.lines.push(new Line(420,880,420,820)),e.lines.push(new Line(420,820,640,820)),e.lines.push(new Line(640,820,640,780)),e.lines.push(new Line(640,780,920,780)),e.lines.push(new Line(920,780,920,900)),e.lines.push(new Line(1180,900,1180,440)),e.lines.push(new Line(1180,440,1120,380)),e.lines.push(new Line(1120,380,1120,280)),e.lines.push(new Line(1120,280,1180,280)),e.lines.push(new Line(1180,280,1180,0)),e.lines.push(new Line(500,0,500,120)),e.lines.push(new Line(500,120,180,120)),e.lines.push(new Line(180,120,180,0)),addChat(e),e=new Level,e.lines.push(new Line(1180,900,1180,100)),e.lines.push(new Line(1180,100,1100,100)),e.lines.push(new Line(1100,100,1100,40)),e.lines.push(new Line(1100,40,1020,40)),e.lines.push(new Line(1020,40,1020,0)),e.lines.push(new Line(180,900,180,800)),e.lines.push(new Line(180,800,340,800)),e.lines.push(new Line(340,800,340,840)),e.lines.push(new Line(340,840,500,840)),e.lines.push(new Line(500,840,500,920)),e.lines.push(new Line(20,900,20,0)),e.lines.push(new Line(800,700,680,700)),e.lines.push(new Line(680,700,680,560)),e.lines.push(new Line(680,560,800,560)),e.lines.push(new Line(800,560,800,700)),e.lines.push(new Line(960,740,1080,740)),e.lines.push(new Line(1080,740,1080,560)),e.lines.push(new Line(1080,560,960,560)),e.lines.push(new Line(960,560,960,740)),e.lines.push(new Line(720,340,820,340)),e.lines.push(new Line(820,340,820,200)),e.lines.push(new Line(820,200,720,200)),e.lines.push(new Line(720,200,720,340)),e.lines.push(new Line(920,380,1020,380)),e.lines.push(new Line(1020,380,1020,320)),e.lines.push(new Line(1020,320,1080,320)),e.lines.push(new Line(1080,320,1080,240)),e.lines.push(new Line(1080,240,920,240)),e.lines.push(new Line(920,240,920,380)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,720)),e.lines.push(new Line(20,720,100,640)),e.lines.push(new Line(100,640,100,500)),e.lines.push(new Line(100,500,20,500)),e.lines.push(new Line(20,500,20,120)),e.lines.push(new Line(20,120,120,20)),e.lines.push(new Line(120,20,120,0)),e.lines.push(new Line(300,540,440,540)),e.lines.push(new Line(440,540,440,480)),e.lines.push(new Line(440,480,300,480)),e.lines.push(new Line(300,480,300,540)),e.lines.push(new Line(680,640,820,640)),e.lines.push(new Line(820,640,820,580)),e.lines.push(new Line(820,580,680,580)),e.lines.push(new Line(680,580,680,640)),e.lines.push(new Line(1020,900,1020,820)),e.lines.push(new Line(1020,820,1180,820)),e.lines.push(new Line(1180,820,1180,580)),e.lines.push(new Line(1180,580,1100,500)),e.lines.push(new Line(1100,500,1100,400)),e.lines.push(new Line(1100,400,1180,400)),e.lines.push(new Line(1180,400,1180,0)),e.lines.push(new Line(800,360,660,360)),e.lines.push(new Line(660,360,660,300)),e.lines.push(new Line(660,300,800,300)),e.lines.push(new Line(800,300,800,360)),e.lines.push(new Line(480,240,340,240)),e.lines.push(new Line(340,240,340,180)),e.lines.push(new Line(340,180,480,180)),e.lines.push(new Line(480,180,480,240)),addChat(e),e=new Level,e.lines.push(new Line(120,900,120,820)),e.lines.push(new Line(120,820,20,820)),e.lines.push(new Line(20,820,20,280)),e.lines.push(new Line(20,280,500,280)),e.lines.push(new Line(500,280,500,240)),e.lines.push(new Line(500,240,40,240)),e.lines.push(new Line(40,240,40,120)),e.lines.push(new Line(40,120,100,120)),e.lines.push(new Line(100,120,100,0)),e.lines.push(new Line(180,0,180,120)),e.lines.push(new Line(180,120,240,120)),e.lines.push(new Line(240,120,240,40)),e.lines.push(new Line(240,40,960,40)),e.lines.push(new Line(960,40,960,120)),e.lines.push(new Line(960,120,1020,120)),e.lines.push(new Line(1020,120,1020,0)),e.lines.push(new Line(1100,0,1100,120)),e.lines.push(new Line(1100,120,1160,120)),e.lines.push(new Line(1160,120,1160,240)),e.lines.push(new Line(1160,240,700,240)),e.lines.push(new Line(700,240,700,280)),e.lines.push(new Line(700,280,1180,280)),e.lines.push(new Line(1180,280,1180,900)),e.lines.push(new Line(740,780,740,820)),e.lines.push(new Line(740,820,920,820)),e.lines.push(new Line(920,820,920,780)),e.lines.push(new Line(920,780,740,780)),e.lines.push(new Line(500,600,500,640)),e.lines.push(new Line(500,640,360,640)),e.lines.push(new Line(360,640,360,600)),e.lines.push(new Line(360,600,500,600)),e.lines.push(new Line(660,460,660,500)),e.lines.push(new Line(660,500,760,500)),e.lines.push(new Line(760,500,760,460)),e.lines.push(new Line(760,460,660,460)),addChat(e),e=new Level,e.lines.push(new Line(100,900,100,860)),e.lines.push(new Line(100,860,40,860)),e.lines.push(new Line(40,860,40,0)),e.lines.push(new Line(180,900,180,860)),e.lines.push(new Line(180,860,400,860)),e.lines.push(new Line(400,860,400,840)),e.lines.push(new Line(400,840,480,840)),e.lines.push(new Line(480,840,480,820)),e.lines.push(new Line(480,820,560,820)),e.lines.push(new Line(560,820,560,800)),e.lines.push(new Line(560,800,640,800)),e.lines.push(new Line(640,800,640,780)),e.lines.push(new Line(640,780,720,780)),e.lines.push(new Line(720,780,720,760)),e.lines.push(new Line(720,760,800,760)),e.lines.push(new Line(800,760,800,680)),e.lines.push(new Line(800,680,860,680)),e.lines.push(new Line(860,680,860,760)),e.lines.push(new Line(860,760,900,760)),e.lines.push(new Line(900,760,900,860)),e.lines.push(new Line(900,860,1020,860)),e.lines.push(new Line(1020,860,1020,900)),e.lines.push(new Line(1100,900,1100,860)),e.lines.push(new Line(1100,860,1160,860)),e.lines.push(new Line(1160,860,1160,0)),e.lines.push(new Line(300,420,280,420)),e.lines.push(new Line(280,420,280,340)),e.lines.push(new Line(280,340,300,340)),e.lines.push(new Line(300,340,300,420)),e.lines.push(new Line(380,540,380,700)),e.lines.push(new Line(380,700,400,700)),e.lines.push(new Line(400,700,400,540)),e.lines.push(new Line(400,540,380,540)),e.lines.push(new Line(580,540,580,620)),e.lines.push(new Line(580,620,600,620)),e.lines.push(new Line(600,620,600,540)),e.lines.push(new Line(600,540,580,540)),e.lines.push(new Line(720,380,720,460)),e.lines.push(new Line(720,460,740,460)),e.lines.push(new Line(740,460,740,380)),e.lines.push(new Line(740,380,720,380)),e.lines.push(new Line(460,300,460,380)),e.lines.push(new Line(460,380,480,380)),e.lines.push(new Line(480,380,480,300)),e.lines.push(new Line(480,300,460,300)),e.lines.push(new Line(320,0,320,80)),e.lines.push(new Line(320,80,340,80)),e.lines.push(new Line(340,80,340,0)),e.lines.push(new Line(780,140,780,220)),e.lines.push(new Line(780,220,800,220)),e.lines.push(new Line(800,220,800,140)),e.lines.push(new Line(800,140,780,140)),e.lines.push(new Line(1020,200,1020,280)),e.lines.push(new Line(1020,280,1040,280)),e.lines.push(new Line(1040,280,1040,200)),e.lines.push(new Line(1040,200,1020,200)),e.lines.push(new Line(880,0,880,80)),e.lines.push(new Line(880,80,900,80)),e.lines.push(new Line(900,80,900,0)),addChat(e),e=new Level,e.lines.push(new Line(40,900,40,0)),e.lines.push(new Line(240,0,240,40)),e.lines.push(new Line(240,40,400,40)),e.lines.push(new Line(400,40,400,0)),e.lines.push(new Line(800,0,800,40)),e.lines.push(new Line(800,40,960,40)),e.lines.push(new Line(960,40,960,0)),e.lines.push(new Line(1160,0,1160,900)),e.lines.push(new Line(900,900,900,820)),e.lines.push(new Line(900,820,880,820)),e.lines.push(new Line(880,820,880,900)),e.lines.push(new Line(340,900,340,820)),e.lines.push(new Line(340,820,320,820)),e.lines.push(new Line(320,820,320,900)),e.lines.push(new Line(380,720,380,740)),e.lines.push(new Line(380,740,560,740)),e.lines.push(new Line(560,740,560,720)),e.lines.push(new Line(560,720,480,720)),e.lines.push(new Line(480,720,480,640)),e.lines.push(new Line(480,640,460,640)),e.lines.push(new Line(460,640,460,720)),e.lines.push(new Line(460,720,380,720)),e.lines.push(new Line(200,520,200,540)),e.lines.push(new Line(200,540,380,540)),e.lines.push(new Line(380,540,380,520)),e.lines.push(new Line(380,520,300,520)),e.lines.push(new Line(300,520,300,440)),e.lines.push(new Line(300,440,280,440)),e.lines.push(new Line(280,440,280,520)),e.lines.push(new Line(280,520,200,520)),e.lines.push(new Line(840,500,840,520)),e.lines.push(new Line(840,520,1020,520)),e.lines.push(new Line(1020,520,1020,500)),e.lines.push(new Line(1020,500,940,500)),e.lines.push(new Line(940,500,940,420)),e.lines.push(new Line(940,420,920,420)),e.lines.push(new Line(920,420,920,500)),e.lines.push(new Line(920,500,840,500)),e.lines.push(new Line(760,360,760,380)),e.lines.push(new Line(760,380,580,380)),e.lines.push(new Line(580,380,580,360)),e.lines.push(new Line(580,360,660,360)),e.lines.push(new Line(660,360,660,280)),e.lines.push(new Line(660,280,680,280)),e.lines.push(new Line(680,280,680,360)),e.lines.push(new Line(680,360,760,360)),addChat(e),e=new Level,e.lines.push(new Line(40,900,40,680)),e.lines.push(new Line(40,680,60,680)),e.lines.push(new Line(60,680,60,660)),e.lines.push(new Line(60,660,20,620)),e.lines.push(new Line(20,620,20,0)),e.lines.push(new Line(280,0,280,380)),e.lines.push(new Line(280,380,240,420)),e.lines.push(new Line(240,420,240,500)),e.lines.push(new Line(240,500,320,500)),e.lines.push(new Line(320,500,320,0)),e.lines.push(new Line(240,900,240,620)),e.lines.push(new Line(240,620,340,620)),e.lines.push(new Line(340,620,340,640)),e.lines.push(new Line(340,640,320,640)),e.lines.push(new Line(320,640,320,860)),e.lines.push(new Line(320,860,400,860)),e.lines.push(new Line(400,860,400,900)),e.lines.push(new Line(800,900,800,860)),e.lines.push(new Line(800,860,880,860)),e.lines.push(new Line(880,860,880,640)),e.lines.push(new Line(880,640,860,640)),e.lines.push(new Line(860,640,860,620)),e.lines.push(new Line(860,620,960,620)),e.lines.push(new Line(960,620,960,900)),e.lines.push(new Line(1160,900,1160,680)),e.lines.push(new Line(1160,680,1140,680)),e.lines.push(new Line(1140,680,1140,660)),e.lines.push(new Line(1140,660,1180,620)),e.lines.push(new Line(1180,620,1180,0)),e.lines.push(new Line(920,0,920,400)),e.lines.push(new Line(920,400,960,440)),e.lines.push(new Line(960,440,960,500)),e.lines.push(new Line(960,500,880,500)),e.lines.push(new Line(880,500,880,40)),e.lines.push(new Line(880,40,760,40)),e.lines.push(new Line(760,40,760,0)),e.lines.push(new Line(640,420,640,440)),e.lines.push(new Line(640,440,820,440)),e.lines.push(new Line(820,440,820,420)),e.lines.push(new Line(820,420,740,420)),e.lines.push(new Line(740,420,740,340)),e.lines.push(new Line(740,340,720,340)),e.lines.push(new Line(720,340,720,420)),e.lines.push(new Line(720,420,640,420)),e.lines.push(new Line(380,260,380,280)),e.lines.push(new Line(380,280,560,280)),e.lines.push(new Line(560,280,560,260)),e.lines.push(new Line(560,260,480,260)),e.lines.push(new Line(480,260,480,180)),e.lines.push(new Line(480,180,460,180)),e.lines.push(new Line(460,180,460,260)),e.lines.push(new Line(460,260,380,260)),addChat(e),e=new Level,e.lines.push(new Line(20,0,20,900)),e.lines.push(new Line(280,900,280,720)),e.lines.push(new Line(280,720,460,540)),e.lines.push(new Line(460,540,560,540)),e.lines.push(new Line(320,900,320,740)),e.lines.push(new Line(320,740,460,600)),e.lines.push(new Line(460,600,740,600)),e.lines.push(new Line(740,600,880,740)),e.lines.push(new Line(880,740,880,760)),e.lines.push(new Line(880,760,920,760)),e.lines.push(new Line(920,760,920,720)),e.lines.push(new Line(920,720,740,540)),e.lines.push(new Line(740,540,640,540)),e.lines.push(new Line(760,900,760,880)),e.lines.push(new Line(760,880,720,880)),e.lines.push(new Line(720,880,720,860)),e.lines.push(new Line(720,860,960,860)),e.lines.push(new Line(960,860,960,880)),e.lines.push(new Line(960,880,920,880)),e.lines.push(new Line(920,880,920,900)),e.lines.push(new Line(1180,900,1180,700)),e.lines.push(new Line(1180,700,1120,700)),e.lines.push(new Line(1120,700,1120,620)),e.lines.push(new Line(1120,620,1180,620)),e.lines.push(new Line(1180,620,1180,440)),e.lines.push(new Line(1180,460,1120,460)),e.lines.push(new Line(1120,460,1120,380)),e.lines.push(new Line(1120,380,1180,380)),e.lines.push(new Line(1180,380,1180,40)),e.lines.push(new Line(1180,40,1040,40)),e.lines.push(new Line(1040,40,1040,0)),e.lines.push(new Line(640,540,640,360)),e.lines.push(new Line(640,360,720,360)),e.lines.push(new Line(720,360,720,280)),e.lines.push(new Line(720,280,640,280)),e.lines.push(new Line(640,280,640,0)),e.lines.push(new Line(560,540,560,360)),e.lines.push(new Line(560,360,480,360)),e.lines.push(new Line(480,360,480,280)),e.lines.push(new Line(480,280,560,280)),e.lines.push(new Line(560,280,560,200)),e.lines.push(new Line(560,200,580,200)),e.lines.push(new Line(580,200,580,20)),e.lines.push(new Line(580,20,560,0)),e.lines.push(new Line(560,0,520,40)),e.lines.push(new Line(520,40,480,0)),addChat(e),e=new Level,e.lines.push(new Line(1040,900,1040,820)),e.lines.push(new Line(1040,820,1180,820)),e.lines.push(new Line(1180,820,1180,380)),e.lines.push(new Line(1180,380,1120,380)),e.lines.push(new Line(1120,380,1060,440)),e.lines.push(new Line(1060,440,1e3,380)),e.lines.push(new Line(1e3,380,1100,280)),e.lines.push(new Line(1100,280,1100,0)),e.lines.push(new Line(640,900,640,820)),e.lines.push(new Line(640,820,700,760)),e.lines.push(new Line(700,760,780,760)),e.lines.push(new Line(780,760,780,660)),e.lines.push(new Line(780,660,660,660)),e.lines.push(new Line(660,660,660,680)),e.lines.push(new Line(660,680,460,880)),e.lines.push(new Line(460,880,480,900)),e.lines.push(new Line(20,900,20,660)),e.lines.push(new Line(20,660,160,660)),e.lines.push(new Line(160,660,240,740)),e.lines.push(new Line(240,740,320,740)),e.lines.push(new Line(320,740,320,780)),e.lines.push(new Line(320,780,400,780)),e.lines.push(new Line(400,780,400,740)),e.lines.push(new Line(400,740,420,740)),e.lines.push(new Line(420,740,420,680)),e.lines.push(new Line(420,680,300,680)),e.lines.push(new Line(300,680,120,500)),e.lines.push(new Line(120,500,20,500)),e.lines.push(new Line(20,500,20,0)),e.lines.push(new Line(120,0,120,40)),e.lines.push(new Line(120,40,200,40)),e.lines.push(new Line(200,40,200,0)),e.lines.push(new Line(360,240,360,300)),e.lines.push(new Line(360,300,380,300)),e.lines.push(new Line(380,300,380,400)),e.lines.push(new Line(380,400,460,400)),e.lines.push(new Line(460,400,460,300)),e.lines.push(new Line(460,300,480,300)),e.lines.push(new Line(480,300,480,240)),e.lines.push(new Line(480,240,360,240)),e.lines.push(new Line(680,420,760,420)),e.lines.push(new Line(760,420,760,320)),e.lines.push(new Line(760,320,780,320)),e.lines.push(new Line(780,320,780,260)),e.lines.push(new Line(780,260,660,260)),e.lines.push(new Line(660,260,660,320)),e.lines.push(new Line(660,320,680,320)),e.lines.push(new Line(680,320,680,420)),e.lines.push(new Line(380,0,380,40)),e.lines.push(new Line(380,40,460,40)),e.lines.push(new Line(460,40,460,0)),addChat(e),e=new Level,e.lines.push(new Line(20,900,20,580)),e.lines.push(new Line(20,580,40,580)),e.lines.push(new Line(40,580,80,620)),e.lines.push(new Line(80,620,140,560)),e.lines.push(new Line(140,560,20,440)),e.lines.push(new Line(20,440,20,0)),e.lines.push(new Line(120,900,120,780)),e.lines.push(new Line(120,780,100,780)),e.lines.push(new Line(100,780,100,720)),e.lines.push(new Line(100,720,220,720)),e.lines.push(new Line(220,720,220,780)),e.lines.push(new Line(220,780,200,780)),e.lines.push(new Line(200,780,200,900)),e.lines.push(new Line(380,900,380,780)),e.lines.push(new Line(380,780,360,780)),e.lines.push(new Line(360,780,360,720)),e.lines.push(new Line(360,720,480,720)),e.lines.push(new Line(480,720,720,480)),e.lines.push(new Line(720,480,780,540)),e.lines.push(new Line(780,540,680,640)),e.lines.push(new Line(680,640,680,660)),e.lines.push(new Line(680,660,780,660)),e.lines.push(new Line(780,660,780,720)),e.lines.push(new Line(780,720,660,720)),e.lines.push(new Line(660,720,660,680)),e.lines.push(new Line(660,680,640,680)),e.lines.push(new Line(640,680,540,780)),e.lines.push(new Line(540,780,460,780)),e.lines.push(new Line(460,780,460,900)),e.lines.push(new Line(1100,900,1100,860)),e.lines.push(new Line(1100,860,1080,860)),e.lines.push(new Line(1080,860,1080,800)),e.lines.push(new Line(1080,800,1180,800)),e.lines.push(new Line(1180,800,1180,580)),e.lines.push(new Line(1180,580,1140,580)),e.lines.push(new Line(1140,580,1140,560)),e.lines.push(new Line(1140,560,1180,520)),e.lines.push(new Line(1180,520,1180,80)),e.lines.push(new Line(1180,80,1140,80)),e.lines.push(new Line(1140,80,1140,0)),e.lines.push(new Line(1100,220,1100,280)),e.lines.push(new Line(1100,280,980,280)),e.lines.push(new Line(980,280,980,220)),e.lines.push(new Line(980,220,1100,220)),e.lines.push(new Line(820,160,820,220)),e.lines.push(new Line(820,220,700,220)),e.lines.push(new Line(700,220,700,160)),e.lines.push(new Line(700,160,820,160)),e.lines.push(new Line(560,360,560,420)),e.lines.push(new Line(560,420,440,420)),e.lines.push(new Line(440,420,440,360)),e.lines.push(new Line(440,360,560,360)),e.lines.push(new Line(220,0,220,40)),e.lines.push(new Line(220,40,540,40)),e.lines.push(new Line(540,40,540,0)),e.lines.push(new Line(640,0,640,40)),e.lines.push(new Line(640,40,980,40)),e.lines.push(new Line(980,40,980,0)),addChat(e),e=new Level,e.lines.push(new Line(20,0,20,920)),e.lines.push(new Line(220,900,220,460)),e.lines.push(new Line(220,460,280,460)),e.lines.push(new Line(280,460,420,600)),e.lines.push(new Line(420,600,460,600)),e.lines.push(new Line(460,600,540,680)),e.lines.push(new Line(540,680,540,900)),e.lines.push(new Line(640,900,640,740)),e.lines.push(new Line(640,740,660,720)),e.lines.push(new Line(660,720,720,720)),e.lines.push(new Line(720,720,820,820)),e.lines.push(new Line(820,820,940,820)),e.lines.push(new Line(940,820,980,860)),e.lines.push(new Line(980,860,980,900)),e.lines.push(new Line(1140,900,1140,560)),e.lines.push(new Line(1140,560,1180,560)),e.lines.push(new Line(1180,560,1180,20)),e.lines.push(new Line(1180,40,1120,40)),e.lines.push(new Line(1120,40,1120,0)),e.lines.push(new Line(920,240,920,300)),e.lines.push(new Line(920,300,620,300)),e.lines.push(new Line(620,300,620,240)),e.lines.push(new Line(620,240,720,240)),e.lines.push(new Line(720,240,820,140)),e.lines.push(new Line(820,140,920,240)),e.lines.push(new Line(280,0,280,40)),e.lines.push(new Line(280,40,360,40)),e.lines.push(new Line(360,40,360,0)),addChat(e),e=new Level,e.lines.push(new Line(1120,900,1120,860)),e.lines.push(new Line(1120,860,1180,860)),e.lines.push(new Line(1180,860,1180,620)),e.lines.push(new Line(1180,620,1120,620)),e.lines.push(new Line(1120,620,1120,580)),e.lines.push(new Line(1120,580,1200,500)),e.lines.push(new Line(1200,500,1200,0)),e.lines.push(new Line(360,900,360,740)),e.lines.push(new Line(360,740,280,740)),e.lines.push(new Line(280,740,280,920)),e.lines.push(new Line(20,900,20,620)),e.lines.push(new Line(20,620,80,620)),e.lines.push(new Line(80,620,80,580)),e.lines.push(new Line(80,580,0,500)),e.lines.push(new Line(0,500,0,0)),e.lines.push(new Line(460,620,460,720)),e.lines.push(new Line(460,720,480,720)),e.lines.push(new Line(480,720,480,620)),e.lines.push(new Line(480,620,460,620)),e.lines.push(new Line(760,680,760,720)),e.lines.push(new Line(760,720,840,720)),e.lines.push(new Line(840,720,840,680)),e.lines.push(new Line(840,680,760,680)),e.lines.push(new Line(1e3,0,1e3,40)),e.lines.push(new Line(1e3,40,920,40)),e.lines.push(new Line(920,40,920,400)),e.lines.push(new Line(920,400,800,400)),e.lines.push(new Line(800,400,800,360)),e.lines.push(new Line(800,360,840,360)),e.lines.push(new Line(840,360,840,40)),e.lines.push(new Line(840,40,820,40)),e.lines.push(new Line(820,40,820,0)),e.lines.push(new Line(360,0,360,80)),e.lines.push(new Line(360,80,280,80)),e.lines.push(new Line(280,80,280,0)),e.lines.push(new Line(280,240,280,360)),e.lines.push(new Line(280,360,320,360)),e.lines.push(new Line(320,360,320,280)),e.lines.push(new Line(320,280,400,280)),e.lines.push(new Line(400,280,400,240)),e.lines.push(new Line(400,240,280,240)),addChat(e),e=new Level,e.lines.push(new Line(280,900,280,360)),e.lines.push(new Line(280,360,260,360)),e.lines.push(new Line(260,360,260,320)),e.lines.push(new Line(260,320,360,320)),e.lines.push(new Line(360,320,360,900)),e.lines.push(new Line(820,900,820,860)),e.lines.push(new Line(820,860,1e3,860)),e.lines.push(new Line(1e3,860,1e3,900)),e.lines.push(new Line(540,620,540,660)),e.lines.push(new Line(540,660,620,660)),e.lines.push(new Line(620,660,620,620)),e.lines.push(new Line(620,620,540,620)),e.lines.push(new Line(820,420,820,460)),e.lines.push(new Line(820,460,840,460)),e.lines.push(new Line(840,460,840,520)),e.lines.push(new Line(840,520,920,520)),e.lines.push(new Line(920,520,920,0)),e.lines.push(new Line(820,420,880,420)),e.lines.push(new Line(880,420,880,240)),e.lines.push(new Line(880,240,840,240)),e.lines.push(new Line(840,240,840,0)),e.lines.push(new Line(620,300,620,340)),e.lines.push(new Line(620,340,700,340)),e.lines.push(new Line(700,340,700,300)),e.lines.push(new Line(700,300,620,300)),e.lines.push(new Line(340,0,340,140)),e.lines.push(new Line(340,140,280,140)),e.lines.push(new Line(280,140,280,40)),e.lines.push(new Line(280,40,220,40)),e.lines.push(new Line(220,40,220,0)),e.lines.push(new Line(0,0,0,900)),e.lines.push(new Line(1200,900,1200,0)),addChat(e),e=new Level,e.lines.push(new Line(0,0,0,900)),e.lines.push(new Line(220,900,220,860)),e.lines.push(new Line(220,860,340,860)),e.lines.push(new Line(340,860,340,900));e.lines.push(new Line(840,900,840,600)),e.lines.push(new Line(840,600,920,600)),e.lines.push(new Line(920,600,920,900)),e.lines.push(new Line(1200,900,1200,0)),e.lines.push(new Line(840,0,840,40)),e.lines.push(new Line(840,40,920,40)),e.lines.push(new Line(920,40,920,0)),e.lines.push(new Line(840,240,840,420)),e.lines.push(new Line(840,420,920,420)),e.lines.push(new Line(920,420,920,240)),e.lines.push(new Line(920,240,840,240)),e.lines.push(new Line(580,740,580,780)),e.lines.push(new Line(580,780,660,780)),e.lines.push(new Line(660,780,660,740)),e.lines.push(new Line(660,740,580,740)),e.lines.push(new Line(400,400,400,440)),e.lines.push(new Line(400,440,480,440)),e.lines.push(new Line(480,440,480,400)),e.lines.push(new Line(480,400,400,400)),e.lines.push(new Line(280,0,280,100)),e.lines.push(new Line(280,100,360,100)),e.lines.push(new Line(360,100,360,40)),e.lines.push(new Line(360,40,420,40)),e.lines.push(new Line(420,40,420,0)),e.lines.push(new Line(580,440,580,540)),e.lines.push(new Line(580,540,600,540)),e.lines.push(new Line(600,540,600,440)),e.lines.push(new Line(600,440,580,440)),addChat(e),e=new Level,e.lines.push(new Line(420,900,420,860)),e.lines.push(new Line(420,860,280,860)),e.lines.push(new Line(280,860,280,900)),e.lines.push(new Line(160,820,160,860)),e.lines.push(new Line(160,860,120,860)),e.lines.push(new Line(120,860,120,820)),e.lines.push(new Line(120,820,160,820)),e.lines.push(new Line(120,460,120,500)),e.lines.push(new Line(120,500,160,500)),e.lines.push(new Line(160,500,160,460)),e.lines.push(new Line(160,460,120,460)),e.lines.push(new Line(920,900,920,380)),e.lines.push(new Line(920,380,1080,380)),e.lines.push(new Line(1080,380,1080,320)),e.lines.push(new Line(1080,320,1060,320)),e.lines.push(new Line(1060,320,1060,360)),e.lines.push(new Line(1060,360,280,360)),e.lines.push(new Line(280,360,280,660)),e.lines.push(new Line(280,660,840,660)),e.lines.push(new Line(840,660,840,900)),e.lines.push(new Line(1200,900,1200,0)),e.lines.push(new Line(0,900,0,0)),e.lines.push(new Line(0,0,1200,0)),addChat(e);for(let e=0;e<levels.length-1;e++)levels[e].levelImage=levelImages[e],e>=25&&e<=31&&(levels[e].isBlizzardLevel=!0),e>=36&&e<=38&&(levels[e].isIceLevel=!0);for(let e=0;e<chatLevels.length;e++)chatLevels[e].levelImage=levelImages[e],e>=25&&e<=31&&(chatLevels[e].isBlizzardLevel=!0),e>=36&&e<=38&&(chatLevels[e].isIceLevel=!0)}class DiagonalCollisionInfo{constructor(){this.collisionPoints=[],this.leftSideOfPlayerCollided=!1,this.rightSideOfPlayerCollided=!1,this.topSideOfPlayerCollided=!1,this.bottomSideOfPlayerCollided=!1}}class Line{constructor(e,n,i,s){this.x1=e,this.y1=n,this.x2=i,this.y2=s,this.isHorizontal=n===s,this.isVertical=e===i,this.isDiagonal=!this.isHorizontal&&!this.isVertical,this.ensurePointsAreInOrder(),this.midPoint=createVector((e+i)/2,(n+s)/2),this.diagonalCollisionInfo=new DiagonalCollisionInfo}ensurePointsAreInOrder(){(this.isHorizontal||this.isVertical)&&(this.x1>this.x2||this.y1>this.y2)&&([this.x1,this.x2]=[this.x2,this.x1],[this.y1,this.y2]=[this.y2,this.y1])}}let minJumpSpeed=5,maxJumpSpeed=22,maxJumpTimer=30,jumpSpeedHorizontal=8,terminalVelocity=20,gravity=.6,runSpeed=4,maxBlizzardForce=.3,blizzardMaxSpeedHoldTime=150,blizzardAccelerationMagnitude=.003,blizzardImageSpeedMultiplier=50,iceFrictionAcceleration=.2,playerIceRunAcceleration=.2;function isBetween(e,n,i){return n<=e&&e<=i||i<=e&&e<=n}class AIAction{constructor(e,n,i){this.isJump=e,this.holdTime=n,this.xDirection=i}}class PlayerState{constructor(){this.currentPos=createVector(width/2,height-200),this.currentSpeed=createVector(0,0),this.isOnGround=!1,this.blizzardForce=0,this.blizzardForceAccelerationDirection=1,this.maxBlizzardForceTimer=0,this.snowImagePosition=0,this.bestHeightReached=0,this.bestLevelReached=0,this.reachedHeightAtStepNo=0,this.bestLevelReachedOnActionNo=0,this.currentLevelNo=0,this.jumpStartingHeight=0,this.facingRight=!0,this.isWaitingToStartAction=!1,this.actionStarted=!1}}class Player{constructor(e){this.width=50,this.height=65,this.alreadyShowingSnow=!1,this.chatPlayer=e;let n=e?"posesOriginal":"poses";this.idleImage=loadImage(`images/${n}/idle.png`),this.squatImage=loadImage(`images/${n}/squat.png`),this.jumpImage=loadImage(`images/${n}/jump.png`),this.oofImage=loadImage(`images/${n}/oof.png`),this.run1Image=loadImage(`images/${n}/run1.png`),this.run2Image=loadImage(`images/${n}/run2.png`),this.run3Image=loadImage(`images/${n}/run3.png`),this.fallenImage=loadImage(`images/${n}/fallen.png`),this.fallImage=loadImage(`images/${n}/fall.png`),this.runCycle=[];for(let e=0;e<13;e++)this.runCycle.push(this.run1Image);for(let e=0;e<6;e++)this.runCycle.push(this.run2Image);for(let e=0;e<14;e++)this.runCycle.push(this.run3Image);this.maxCollisionChecks=20,this.currentNumberOfCollisionChecks=0,this.chatPlayer=!1,this.ResetPlayer()}ResetPlayer(){this.currentPos=createVector(width/4,height-200),this.currentSpeed=createVector(0,0),this.isOnGround=!1,this.jumpHeld=!1,this.jumpTimer=0,this.leftHeld=!1,this.rightHeld=!1,this.facingRight=!0,this.hasBumped=!1,this.isRunning=!1,this.isSlidding=!1,this.currentRunIndex=1,this.bestHeightReached=0,this.bestLevelReached=0,this.sliddingRight=!1,this.currentLevelNo=0,this.jumpStartingHeight=0,this.hasFallen=!1,this.blizzardForce=0,this.blizzardForceAccelerationDirection=1,this.maxBlizzardForceTimer=0,this.snowImagePosition=0,this.hasFinishedInstructions=!1}Update(){if(this.playersDead)return;let e=this.chatPlayer?chatLevels[this.currentLevelNo].lines:levels[this.currentLevelNo].lines;this.UpdatePlayerSlide(e),this.ApplyGravity(),this.ApplyBlizzardForce(),this.UpdatePlayerRun(e),this.UpdateAIAction(),this.currentPos.add(this.currentSpeed),this.previousSpeed=this.currentSpeed.copy(),this.currentNumberOfCollisionChecks=0,this.CheckCollisions(e),this.UpdateJumpTimer(),this.CheckForLevelChange()}saveState(){this.stateSave={currentSpeed:this.currentSpeed,isOnGround:this.isOnGround,blizzardForce:this.blizzardForce,blizzardForceAccelerationDirection:this.blizzardForceAccelerationDirection,maxBlizzardForceTimer:this.maxBlizzardForceTimer,snowImagePosition:this.snowImagePosition,bestHeightReached:this.bestHeightReached,bestLevelReached:this.bestLevelReached,currentLevelNo:this.currentLevelNo,jumpStartingHeight:this.jumpStartingHeight,facingRight:this.facingRight},this.stateLocation={x:this.currentPos.x,y:this.currentPos.y}}loadState(){this.currentPos.x=this.stateLocation.x,this.currentPos.y=this.stateLocation.y,Object.keys(this.stateSave).forEach((e=>{this[e]=this.stateSave[e]}))}ApplyGravity(){if(this.isOnGround)return;let e=this.isSlidding?.5:1;if(this.currentSpeed.y=min(this.currentSpeed.y+gravity*e,terminalVelocity),this.isSlidding){let e=this.sliddingRight?.5:-.5;this.currentSpeed.x=constrain(this.currentSpeed.x+gravity*e,.5*-terminalVelocity,.5*terminalVelocity)}}ApplyBlizzardForce(){abs(this.blizzardForce)>=maxBlizzardForce&&(this.maxBlizzardForceTimer+=1,this.maxBlizzardForceTimer>blizzardMaxSpeedHoldTime&&(this.blizzardForceAccelerationDirection*=-1,this.maxBlizzardForceTimer=0)),this.blizzardForce+=this.blizzardForceAccelerationDirection*blizzardAccelerationMagnitude,abs(this.blizzardForce)>maxBlizzardForce&&(this.blizzardForce=maxBlizzardForce*this.blizzardForceAccelerationDirection),this.snowImagePosition+=this.blizzardForce*blizzardImageSpeedMultiplier,!this.isOnGround&&levels[this.currentLevelNo].isBlizzardLevel&&(this.currentSpeed.x+=this.blizzardForce)}CheckCollisions(e){let n=[];for(let i=0;i<e.length;i++)this.IsCollidingWithLine(e[i])&&n.push(e[i]);let i=this.GetPriorityCollision(n);if(null==i)return;let s=!1;if(i.isHorizontal)this.IsMovingDown()?(this.currentPos.y=i.y1-this.height,n.length>1?(s=!0,levels[this.currentLevelNo].isIceLevel?(this.currentSpeed.y=0,this.IsMovingRight()?this.currentSpeed.x-=iceFrictionAcceleration:this.currentSpeed.x+=iceFrictionAcceleration):this.currentSpeed=createVector(0,0)):this.playerLanded()):(this.currentSpeed.y=0-this.currentSpeed.y/2,this.currentPos.y=i.y1,bumpSound.play());else if(i.isVertical)this.IsMovingRight()?this.currentPos.x=i.x1-this.width:this.IsMovingLeft()?this.currentPos.x=i.x1:this.previousSpeed.x>0?this.currentPos.x=i.x1-this.width:this.currentPos.x=i.x1,this.currentSpeed.x=0-this.currentSpeed.x/2,this.isOnGround||(this.hasBumped=!0,bumpSound.play());else{this.isSlidding=!0,this.hasBumped=!0;let e=i.diagonalCollisionInfo.leftSideOfPlayerCollided,n=i.diagonalCollisionInfo.rightSideOfPlayerCollided,s=i.diagonalCollisionInfo.topSideOfPlayerCollided,l=i.diagonalCollisionInfo.bottomSideOfPlayerCollided;if(2===i.diagonalCollisionInfo.collisionPoints.length){let h=i.diagonalCollisionInfo.collisionPoints[0].copy();h.add(i.diagonalCollisionInfo.collisionPoints[1].copy()),h.mult(.5);let u=null;s&&e&&(u=this.currentPos.copy()),s&&n&&(u=this.currentPos.copy(),u.x+=this.width),l&&e&&(u=this.currentPos.copy(),u.y+=this.height,this.sliddingRight=!0),l&&n&&(u=this.currentPos.copy(),u.y+=this.height,u.x+=this.width,this.sliddingRight=!1);let p=0,L=0;null===u&&(u=this.currentPos.copy(),this.IsMovingDown()&&(u.y+=this.height),this.IsMovingRight()&&(u.x+=this.width)),p=h.x-u.x,L=h.y-u.y,this.currentPos.x+=p,this.currentPos.y+=L;let w=createVector(i.x2-i.x1,i.y2-i.y1);w.normalize();let t=p5.Vector.dot(this.currentSpeed,w);this.currentSpeed=p5.Vector.mult(w,t),s&&(this.currentSpeed=createVector(0,0),this.isSlidding=!1)}else{if(s){let e=max(i.y1,i.y2);this.currentPos.y=e+1,this.currentSpeed.y=0-this.currentSpeed.y/2}if(l){let e=min(i.y1,i.y2);this.currentSpeed=createVector(0,0),this.currentPos.y=e-this.height-1}e&&(this.currentPos.x=max(i.x1,i.x2)+1,this.IsMovingLeft()&&(this.currentSpeed.x=0-this.currentSpeed.x/2)),n&&(this.currentPos.x=min(i.x1,i.x2)-this.width-1,this.IsMovingRight()&&(this.currentSpeed.x=0-this.currentSpeed.x/2)),(e||n&&!this.isOnGround)&&(this.hasBumped=!0)}}n.length>1&&(this.currentNumberOfCollisionChecks+=1,this.currentNumberOfCollisionChecks>this.maxCollisionChecks?(this.hasFinishedInstructions=!0,this.playersDead=!0):this.CheckCollisions(e),s&&this.IsPlayerOnGround(e)&&this.playerLanded())}Show(){if(this.playersDead)return;push(),translate(this.currentPos.x,this.currentPos.y);let e=this.GetImageToUseBasedOnState();if(this.facingRight?this.hasBumped?image(e,-20,-30):e==jumpImage||e==fallImage?image(e,-20,-28):image(e,-20,-35):(push(),scale(-1,1),this.hasBumped?image(e,-70,-30):e==jumpImage||e==fallImage?image(e,-70,-28):image(e,-70,-35),pop()),pop(),levels[this.currentLevelNo].isBlizzardLevel&&!this.alreadyShowingSnow){let e=this.snowImagePosition;for(;e<=0;)e+=width/2;e%=width/2,image(snowImage,e,0),image(snowImage,e-width/2,0),this.alreadyShowingSnow=!0}}Jump(){if(!this.isOnGround)return;let e=map(this.jumpTimer,0,maxJumpTimer,minJumpSpeed,maxJumpSpeed);this.leftHeld?(this.currentSpeed=createVector(-jumpSpeedHorizontal,-e),this.facingRight=!1):this.rightHeld?(this.currentSpeed=createVector(jumpSpeedHorizontal,-e),this.facingRight=!0):this.currentSpeed=createVector(0,-e),this.hasFallen=!1,this.isOnGround=!1,this.jumpTimer=0,this.jumpStartingHeight=height-this.currentPos.y+height*this.currentLevelNo,jumpSound.play()}IsCollidingWithLine(e){if(e.isHorizontal){var n=e.x1<this.currentPos.x&&this.currentPos.x<e.x2||e.x1<this.currentPos.x+this.width&&this.currentPos.x+this.width<e.x2||this.currentPos.x<e.x1&&e.x1<this.currentPos.x+this.width||this.currentPos.x<e.x2&&e.x2<this.currentPos.x+this.width,i=this.currentPos.y<e.y1&&e.y1<this.currentPos.y+this.height;return n&&i}if(e.isVertical)return i=e.y1<this.currentPos.y&&this.currentPos.y<e.y2||e.y1<this.currentPos.y+this.height&&this.currentPos.y+this.height<e.y2||this.currentPos.y<e.y1&&e.y1<this.currentPos.y+this.height||this.currentPos.y<e.y2&&e.y2<this.currentPos.y+this.height,(n=this.currentPos.x<e.x1&&e.x1<this.currentPos.x+this.width)&&i;{let n=this.currentPos.copy(),i=n.copy();i.x+=this.width;let s=n.copy();s.y+=this.height-1;let l=s.copy();l.x+=this.width;let h=AreLinesColliding(n.x,n.y,s.x,s.y,e.x1,e.y1,e.x2,e.y2),u=AreLinesColliding(i.x,i.y,l.x,l.y,e.x1,e.y1,e.x2,e.y2),p=AreLinesColliding(n.x,n.y,i.x,i.y,e.x1,e.y1,e.x2,e.y2),L=AreLinesColliding(s.x,s.y,l.x,l.y,e.x1,e.y1,e.x2,e.y2);if(h[0]||u[0]||p[0]||L[0]){let n=new DiagonalCollisionInfo;return n.leftSideOfPlayerCollided=h[0],n.rightSideOfPlayerCollided=u[0],n.topSideOfPlayerCollided=p[0],n.bottomSideOfPlayerCollided=L[0],h[0]&&n.collisionPoints.push(createVector(h[1],h[2])),u[0]&&n.collisionPoints.push(createVector(u[1],u[2])),p[0]&&n.collisionPoints.push(createVector(p[1],p[2])),L[0]&&n.collisionPoints.push(createVector(L[1],L[2])),e.diagonalCollisionInfo=n,!0}return!1}}UpdateJumpTimer(){this.isOnGround&&this.jumpHeld&&this.jumpTimer<maxJumpTimer&&(this.jumpTimer+=1)}IsMovingUp(){return this.currentSpeed.y<0}IsMovingDown(){return this.currentSpeed.y>0}IsMovingLeft(){return this.currentSpeed.x<0}IsMovingRight(){return this.currentSpeed.x>0}GetImageToUseBasedOnState(){return this.jumpHeld&&this.isOnGround?this.squatImage:this.hasFallen?this.fallenImage:this.hasBumped?this.oofImage:this.currentSpeed.y<0?this.jumpImage:this.isRunning?(this.currentRunIndex+=1,this.currentRunIndex>=this.runCycle.length&&(this.currentRunIndex=0),this.runCycle[this.currentRunIndex]):this.isOnGround?this.idleImage:this.fallImage}UpdatePlayerSlide(e){this.isSlidding&&!this.IsPlayerOnDiagonal(e)&&(this.isSlidding=!1)}UpdatePlayerRun(e){this.isRunning=!1;let n=!levels[this.currentLevelNo].isBlizzardLevel||31===this.currentLevelNo||25==this.currentLevelNo;if(this.isOnGround){if(!this.IsPlayerOnGround(e))return void(this.isOnGround=!1);this.jumpHeld?levels[this.currentLevelNo].isIceLevel?(this.currentSpeed.y=0,this.IsMovingRight()?this.currentSpeed.x-=iceFrictionAcceleration:this.currentSpeed.x+=iceFrictionAcceleration,abs(this.currentSpeed.x)<=iceFrictionAcceleration&&(this.currentSpeed.x=0)):this.currentSpeed=createVector(0,0):this.rightHeld&&n?(this.hasFallen=!1,this.isRunning=!0,this.facingRight=!0,levels[this.currentLevelNo].isIceLevel?(this.currentSpeed.x+=playerIceRunAcceleration,this.currentSpeed.x=min(runSpeed,this.currentSpeed.x)):this.currentSpeed=createVector(runSpeed,0)):this.leftHeld&&n?(this.hasFallen=!1,this.isRunning=!0,this.facingRight=!1,levels[this.currentLevelNo].isIceLevel?(this.currentSpeed.x-=playerIceRunAcceleration,this.currentSpeed.x=max(0-runSpeed,this.currentSpeed.x)):this.currentSpeed=createVector(-runSpeed,0)):levels[this.currentLevelNo].isIceLevel?(this.currentSpeed.y=0,this.IsMovingRight()?this.currentSpeed.x-=iceFrictionAcceleration:this.currentSpeed.x+=iceFrictionAcceleration,abs(this.currentSpeed.x)<=iceFrictionAcceleration&&(this.currentSpeed.x=0)):this.currentSpeed=createVector(0,0)}}IsPlayerOnGround(e){this.currentPos.y+=1;for(let n=0;n<e.length;n++)if(e[n].isHorizontal&&this.IsCollidingWithLine(e[n]))return this.currentPos.y-=1,!0;return this.currentPos.y-=1,!1}IsPlayerOnDiagonal(e){this.currentPos.y+=5;for(let n=0;n<e.length;n++)if(e[n].isDiagonal&&this.IsCollidingWithLine(e[n]))return this.currentPos.y-=5,!0;return this.currentPos.y-=5,!1}GetPriorityCollision(e){if(2===e.length){let n=null,i=null,s=null;for(const l of e)l.isVertical&&(n=l),l.isHorizontal&&(i=l),l.isDiagonal&&(s=l);if(n&&i&&this.IsMovingUp()&&n.midPoint.y>i.midPoint.y)return n;if(i&&s&&s.midPoint.y>i.midPoint.y)return i}let n=0-this.currentSpeed.x,i=0-this.currentSpeed.y,s=1e4,l=null;if(0===e.length)return null;if(l=e[0],e.length<1)return l;for(let h of e){let e=createVector(0,0),u=1e4;if(h.isHorizontal)this.IsMovingDown()?(e.y=h.y1-(this.currentPos.y+this.height),u=abs(e),u=abs(this.currentPos.y-(h.y1-this.height))):(e.y=h.y1-this.currentPos.y,u=abs(this.currentPos.y-h.y1));else if(h.isVertical)this.IsMovingRight()?(e.x=h.x1-(this.currentPos.x+this.width),u=abs(this.currentPos.x-(h.x1-this.width))):(e.x=h.x1-this.currentPos.x,u=abs(this.currentPos.x-h.x1));else if(2===h.diagonalCollisionInfo.collisionPoints.length){let n=h.diagonalCollisionInfo.collisionPoints[0].copy();n.add(h.diagonalCollisionInfo.collisionPoints[1].copy()),n.mult(.5);let i=h.diagonalCollisionInfo.leftSideOfPlayerCollided,s=h.diagonalCollisionInfo.rightSideOfPlayerCollided,l=h.diagonalCollisionInfo.topSideOfPlayerCollided,p=h.diagonalCollisionInfo.bottomSideOfPlayerCollided,L=null;l&&i&&(L=this.currentPos.copy()),l&&s&&(L=this.currentPos.copy(),L.x+=this.width),p&&i&&(L=this.currentPos.copy(),L.y+=this.height),p&&s&&(L=this.currentPos.copy(),L.y+=this.height,L.x+=this.width),null===L&&(L=this.currentPos.copy(),this.IsMovingDown()&&(L.y+=this.height),this.IsMovingRight()&&(L.x+=this.width)),e.x=n.x-L.x,e.y=n.y-L.y,u=dist(L.x,L.y,n.x,n.y)}else{let n=h.diagonalCollisionInfo.leftSideOfPlayerCollided,i=h.diagonalCollisionInfo.rightSideOfPlayerCollided,s=h.diagonalCollisionInfo.topSideOfPlayerCollided,l=h.diagonalCollisionInfo.bottomSideOfPlayerCollided;if(s){let n=max(h.y1,h.y2);e.y=n-this.currentPos.y,u=abs(this.currentPos.y-n)}if(l){let n=min(h.y1,h.y2);e.y=n-(this.currentPos.y+this.height),u=abs(this.currentPos.y+this.height-n)}if(n){let n=max(h.x1,h.x2);e.x=n-this.currentPos.x,u=abs(this.currentPos.x-n)}if(i){let n=min(h.x1,h.x2);e.x=n-(this.currentPos.x+this.width),u=abs(this.currentPos.x+this.width-n)}}isBetween(e.x,0,n)&&isBetween(e.y,0,i)&&u<s&&(s=u,l=h)}return l}CheckForLevelChange(){this.currentPos.y<-this.height?(this.currentLevelNo+=1,this.currentPos.y+=height):this.currentPos.y>height-this.height&&(0===this.currentLevelNo&&(this.currentLevelNo=1,this.playersDead=!0,this.hasFinishedInstructions=!0),this.currentLevelNo-=1,this.currentPos.y-=height,!this.hasFinishedInstructions&&this.currentLevelNo<this.bestLevelReached-1&&(this.fellToPreviousLevel=!0))}sendCommand(e){if(!this.isOnGround)return;let n=e.split(" ");if(n.length>2||e.length>6)return;let i=!0,s=1,l=1;if("undo"===n[0]&&this.loadState(),"w"!==n[0][0]&&"W"!==n[0][0]||(i=!1),"r"===n[0]||"R"===n[0]||"wr"===n[0]||"WR"===n[0])s=1;else if("l"===n[0]||"L"===n[0]||"wl"===n[0]||"WL"===n[0])s=-1;else{if("u"!==n[0]&&"U"!==n[0])return;s=0}l=parseInt(n[1])/100;let h=new AIAction(i,l,s);this.isWaitingToStartAction&&this.isOnGround&&(this.isWaitingToStartAction=!1),this.isOnGround&&!this.actionStarted?(this.currentAction=h,this.StartCurrentAction(),this.actionStarted=!0):this.actionStarted&&(this.aiActionTimer+=1,this.aiActionTimer>=this.aiActionMaxTime&&(this.EndCurrentAction(),this.actionStarted=!1))}UpdateAIAction(){this.actionStarted&&(this.aiActionTimer+=1,this.aiActionTimer>=this.aiActionMaxTime&&(this.EndCurrentAction(),this.actionStarted=!1))}StartCurrentAction(){this.aiActionMaxTime=floor(30*this.currentAction.holdTime),this.aiActionTimer=0,this.currentAction.isJump&&(this.jumpHeld=!0),-1===this.currentAction.xDirection?(this.leftHeld=!0,this.rightHeld=!1):1===this.currentAction.xDirection&&(this.leftHeld=!1,this.rightHeld=!0)}EndCurrentAction(){this.currentAction.isJump&&(this.jumpHeld=!1,this.Jump()),this.leftHeld=!1,this.rightHeld=!1,this.isWaitingToStartAction=!1}GetGlobalHeight(){return height-this.currentPos.y+height*this.currentLevelNo}playerLanded(){this.isOnGround=!0,this.currentSpeed=createVector(0,0),levels[this.currentLevelNo].isIceLevel&&(this.currentSpeed.y=0,this.IsMovingRight()?this.currentSpeed.x-=iceFrictionAcceleration:this.currentSpeed.x+=iceFrictionAcceleration),this.isSlidding=!1,this.hasBumped=!1,this.jumpStartingHeight-height/2>height-this.currentPos.y+height*this.currentLevelNo&&(this.hasFallen=!0),this.GetGlobalHeight()>this.bestHeightReached&&(this.bestHeightReached=this.GetGlobalHeight(),this.saveState(),this.bestLevelReached<this.currentLevelNo&&(this.bestLevelReached=this.currentLevelNo)),this.hasFallen?fallSound.play():landSound.play()}}function AreLinesColliding(e,n,i,s,l,h,u,p){let L=((u-l)*(n-h)-(p-h)*(e-l))/((p-h)*(i-e)-(u-l)*(s-n)),w=((i-e)*(n-h)-(s-n)*(e-l))/((p-h)*(i-e)-(u-l)*(s-n));if(L>=0&&L<=1&&w>=0&&w<=1){return[!0,e+L*(i-e),n+L*(s-n)]}return[!1,0,0]}let canvas,player,chatPlayer,backgroundImage,idleImage,squatImage,jumpImage,oofImage,run1Image,run2Image,run3Image,fallenImage,fallImage,fallSound,jumpSound,bumpSound,landSound,snowImage,width=2400,height=900,lines=[],levelImages=[],playerPlaced=!1,levelDrawn=!1,testingSinglePlayer=!0,startingPlayerActions=5,increaseActionsByAmount=5,increaseActionsEveryXGenerations=10,evolationSpeed=1,selectedUserPopUp=document.getElementById("currentUser"),channels=["colloquialowl"];const client=new tmi.Client({channels:channels});client.on("connected",(()=>console.log("Reading from Twitch! ✅"))),client.connect();let nameArray=[];function AddName(e){nameArray.push({value:e,time:Date.now()})}let selectedUser="colloquialowl";function preload(){backgroundImage=loadImage("images/levelImages/1.png"),snowImage=loadImage("images/snow3.png");for(let e=1;e<=43;e++)levelImages.push(loadImage(`images/levelImages/${e}.png`));jumpSound=loadSound("sounds/jump.mp3"),fallSound=loadSound("sounds/fall.mp3"),bumpSound=loadSound("sounds/bump.mp3"),landSound=loadSound("sounds/land.mp3")}function setup(){canvas=createCanvas(width,height),canvas.parent("canvas"),player=new Player,chatPlayer=new Player(!0),chatPlayer.currentPos=createVector(.75*width,height-300),chatPlayer.chatPlayer=!0,setupLevels()}selectedUserPopUp.innerText=selectedUser,setInterval((function(){if(nameArray.length){nameArray.forEach((e=>{selectedUserPopUp.innerText=e,selectedUserPopUp.style.opacity=.5})),selectedUser=nameArray.pop(),selectedUserPopUp.innerText=selectedUser,selectedUserPopUp.opacity=1;var e=Date.now();nameArray=nameArray.filter((function(n){return e<n.time+3e5}))}}),15e3),client.on("message",((e,n,i,s)=>{"colloquialbot"!==n.username&&"nightbot"!==n.username&&(nameArray.includes(n.username)||AddName(n.username),n.username===selectedUser&&chatPlayer.sendCommand(i))}));let levelNumber=0;function draw(){push(),translate(0,-0),image(levels[player.currentLevelNo].levelImage,0,0),image(levels[chatPlayer.currentLevelNo].levelImage,width/2,0),levels[player.currentLevelNo].show(),chatLevels[chatPlayer.currentLevelNo].showChat(),player.Update(),player.Show(),chatPlayer.Update(),chatPlayer.Show(),frameCount%15==0&&(previousFrameRate=floor(getFrameRate()))}let previousFrameRate=60;function keyPressed(){if(" "===key)player.jumpHeld=!0;switch(keyCode){case LEFT_ARROW:player.leftHeld=!0;break;case RIGHT_ARROW:player.rightHeld=!0}}function keyReleased(){switch(key){case" ":player.jumpHeld=!1,player.Jump();break;case"N":player.currentLevelNo+=1,print(player.currentLevelNo)}switch(keyCode){case LEFT_ARROW:player.leftHeld=!1;break;case RIGHT_ARROW:player.rightHeld=!1;break;case DOWN_ARROW:evolationSpeed=constrain(evolationSpeed-1,0,50);break;case UP_ARROW:evolationSpeed=constrain(evolationSpeed+1,0,50)}}